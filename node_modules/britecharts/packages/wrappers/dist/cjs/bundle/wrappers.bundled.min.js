module.exports=function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=22)}([function(t,e){t.exports=require("d3-selection")},function(t,e){t.exports=require("d3-array")},function(t,e){t.exports=require("d3-scale")},function(t,e){t.exports=require("d3-axis")},function(t,e){t.exports=require("d3-time")},function(t,e){t.exports=require("d3-shape")},function(t,e){t.exports=require("d3-format")},function(t,e){t.exports=require("d3-ease")},function(t,e){t.exports=require("d3-dispatch")},function(t,e){t.exports=require("d3-time-format")},function(t,e){t.exports=require("d3-interpolate")},function(t,e){t.exports=require("d3-transition")},function(t,e){t.exports=require("d3-collection")},function(t,e){t.exports=require("d3-color")},function(t,e){t.exports=require("d3-zoom")},function(t,e,n){(function(t,a){var r;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(i){var l=e,o=(t&&t.exports,"object"==typeof a&&a);o.global!==o&&o.window;var c=function(t){this.message=t};(c.prototype=new Error).name="InvalidCharacterError";var s=function(t){throw new c(t)},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,h={encode:function(t){t=String(t),/[^\0-\xFF]/.test(t)&&s("The string to be encoded contains characters outside of the Latin1 range.");for(var e,n,a,r,i=t.length%3,l="",o=-1,c=t.length-i;++o<c;)e=t.charCodeAt(o)<<16,n=t.charCodeAt(++o)<<8,a=t.charCodeAt(++o),l+=u.charAt((r=e+n+a)>>18&63)+u.charAt(r>>12&63)+u.charAt(r>>6&63)+u.charAt(63&r);return 2==i?(e=t.charCodeAt(o)<<8,n=t.charCodeAt(++o),l+=u.charAt((r=e+n)>>10)+u.charAt(r>>4&63)+u.charAt(r<<2&63)+"="):1==i&&(r=t.charCodeAt(o),l+=u.charAt(r>>2)+u.charAt(r<<4&63)+"=="),l},decode:function(t){var e=(t=String(t).replace(d,"")).length;e%4==0&&(e=(t=t.replace(/==?$/,"")).length),(e%4==1||/[^+a-zA-Z0-9/]/.test(t))&&s("Invalid character: the string to be decoded is not correctly encoded.");for(var n,a,r=0,i="",l=-1;++l<e;)a=u.indexOf(t.charAt(l)),n=r%4?64*n+a:a,r++%4&&(i+=String.fromCharCode(255&n>>(-2*r&6)));return i},version:"0.1.0"};void 0===(r=function(){return h}.call(e,n,e,t))||(t.exports=r)}()}).call(this,n(19)(t),n(20))},function(t,e){t.exports=function(){"use strict";const t={BASE:!0,HEAD:!0,HTML:!0,META:!0,NOFRAME:!0,NOSCRIPT:!0,PARAM:!0,SCRIPT:!0,STYLE:!0,TITLE:!0},e=["A","ABBR","ADDRESS","AREA","ARTICLE","ASIDE","AUDIO","B","BASE","BDI","BDO","BLOCKQUOTE","BODY","BR","BUTTON","CANVAS","CAPTION","CENTER","CITE","CODE","COL","COLGROUP","COMMAND","DATALIST","DD","DEL","DETAILS","DFN","DIV","DL","DT","EM","EMBED","FIELDSET","FIGCAPTION","FIGURE","FONT","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEAD","HEADER","HGROUP","HR","HTML","I","IFRAME","IMG","INPUT","INS","KBD","LABEL","LEGEND","LI","LINK","MAP","MARK","MATH","MENU","META","METER","NAV","NOBR","NOSCRIPT","OBJECT","OL","OPTION","OPTGROUP","OUTPUT","P","PARAM","PRE","PROGRESS","Q","RP","RT","RUBY","S","SAMP","SCRIPT","SECTION","SELECT","SMALL","SOURCE","SPAN","STRONG","STYLE","SUB","SUMMARY","SUP","SVG","TABLE","TBODY","TD","TEXTAREA","TFOOT","TH","THEAD","TIME","TITLE","TR","TRACK","U","UL","VAR","VIDEO","WBR"],n=t=>{let e={},n=document.body.appendChild(document.createElement(t)),a=window.getComputedStyle(n);return[].forEach.call(a,t=>{e[t]=a[t]}),document.body.removeChild(n),e};return{initializeSerializer:()=>{const a={};return[].forEach.call(e,e=>{t[e]||(a[e]=n(e))}),function(e){let r,i,l,o,c=[];if(e&&e.nodeType===Node.ELEMENT_NODE)return c=[],r=e.querySelectorAll("*"),[].forEach.call(r,(e,r)=>{var o;t[e.tagName]||(i=window.getComputedStyle(e),o=(o=e.tagName).toUpperCase(),a[o]||(a[o]=n(o)),l=a[o],c[r]=e.style.cssText,[].forEach.call(i,t=>{i[t]!==l[t]&&(e.style[t]=i[t])}))}),o=e.outerHTML,r=[].map.call(r,(t,e)=>(t.style.cssText=c[e],t)),o}}}}()},function(t,e){t.exports=require("d3-voronoi")},function(t,e){t.exports=require("d3-brush")},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function a(t){return t=Array.isArray(t)?t:[...arguments],{asList:()=>t.join(" "),asSelector:()=>"."+t.join(".")}}n.r(e),n.d(e,"classArray",(function(){return a})),e.default={classArray:a}},function(t,e,n){"use strict";n.r(e),n.d(e,"BarWrapper",(function(){return le})),n.d(e,"BulletWrapper",(function(){return ce})),n.d(e,"DonutWrapper",(function(){return ue})),n.d(e,"GroupedBarWrapper",(function(){return he})),n.d(e,"LegendWrapper",(function(){return pe})),n.d(e,"LineWrapper",(function(){return me})),n.d(e,"SparklineWrapper",(function(){return xe})),n.d(e,"StackedAreaWrapper",(function(){return ve})),n.d(e,"StackedBarWrapper",(function(){return je})),n.d(e,"StepWrapper",(function(){return Ae})),n.d(e,"TooltipWrapper",(function(){return Me})),n.d(e,"britechartsCustomEvents",(function(){return Kt}));var a=n(0),r=n(1),i=n(7),l=n(3),o=n(13),c=n(8),s=n(6),u=n(2);n(11);const d=1.2,h=10,f=.9,p=.6,g="value",m="label",y=function(t,e,n,r){let i,l=Object(a.select)(r),o=l.text().split(/\s+/).reverse(),c=[],s=0,u=d*f,y=l.attr("y"),x=parseFloat(l.attr("dy")),b=e*p,v=l.text(null).append("tspan").attr("x",t).attr("y",y-5).attr("dy",x+"em").classed(g,!0).style("font-size",e+"px");for(v.text(o.pop()),v=l.append("tspan").classed(m,!0).attr("x",t).attr("y",y+h).attr("dy",++s*u+x+"em").style("font-size",b+"px");i=o.pop();)c.push(i),v.text(c.join(" ")),v.node()&&v.node().getComputedTextLength()>n-50&&(c.pop(),v.text(c.join(" ")),c=[i],v=l.append("tspan").classed(m,!0).attr("x",t).attr("y",y+h).attr("dy",++s*u+x+"em").text(i).style("font-size",b+"px"))},x=function(t,e,n=0,r=2){t.each((function(){let i,l,o,c,s,u,d,h;for(i=(t=Object(a.select)(this)).text().split(/\s+/).reverse(),o=[],c=0,s=1.2,u=t.attr("y"),d=parseFloat(t.attr("dy")),h=t.text(null).append("tspan").attr("x",n).attr("y",u).attr("dy",d+"em");l=i.pop();)if(o.push(l),h.text(o.join(" ")),h.node()&&h.node().getComputedTextLength()>e){if(o.pop(),h.text(o.join(" ")),!(c<r-1)){o.push("..."),h.text(o.join(" "));break}o=[l],h=t.append("tspan").attr("x",n).attr("y",u).attr("dy",1.2*++c+d+"em").text(l),t.classed("adjust-upwards",!0)}}))},b=function(t,e=12,n="Arial"){const a=document.createElement("canvas").getContext("2d");return a.font=e+"px "+n,a.measureText(t).width},v=function(t,e,n){const a=t.split(/\s+/).reverse();let r=[],i=1;for(let t of a){r.push(t);b(r.join(" "),e,"Karla, sans-serif")>n&&(r.pop(),r=[t],++i)}return i};var O=n(15),j=n.n(O);const k={britecharts:["#6aedc7","#39c2c9","#ffce00","#ffa71a","#f866b9","#998ce3"],grey:["#F8F8FA","#EFF2F5","#D2D6DF","#C3C6CF","#ADB0B6","#666A73","#45494E","#363A43","#282C35"],orange:["#fcc870","#ffa71a","#fb8825","#f6682f","#db5a2c","#bf4c28","#a43b1c","#892a10","#f9e9c5"],blueGreen:["#ccf7f6","#70e4e0","#00d8d2","#00acaf","#007f8c","#005e66","#003c3f","#002d2f","#0d2223"],teal:["#ccfffe","#94f7f4","#00fff8","#1de1e1","#39c2c9","#2e9a9d","#227270","#1a5957","#133f3e"],green:["#edfff7","#d7ffef","#c0ffe7","#95f5d7","#6aedc7","#59c3a3","#479980","#34816a","#206953"],yellow:["#f9f2b3","#fbe986","#fce05a","#fed72d","#ffce00","#fcc11c","#f9b438","#eda629","#e09819"],pink:["#fdd1ea","#fb9cd2","#f866b9","#fc40b6","#ff1ab3","#e3239d","#c62c86","#a62073","#85135f"],purple:["#ddd6fc","#bbb1f0","#998ce3","#8e6bc1","#824a9e","#77337f","#6b1c60","#591650","#470f3f"],red:["#ffd8d4","#ffb5b0","#ff938c","#ff766c","#ff584c","#f04b42","#e03d38","#be2e29","#9c1e19"]};var A={colorSchemas:k,colorSchemasHuman:{britecharts:"Britecharts Default",grey:"Britecharts Grey",orange:"Orange",blueGreen:"Blue",teal:"Light Blue",green:"Green",yellow:"Yellow",pink:"Pink",purple:"Purple",red:"Red"},colorGradients:{greenBlue:["#39C7EA","#4CDCBA"],orangePink:["#FBC670","#F766B8"],bluePurple:["#3DC3C9","#824a9e"]},colorGradientsHuman:{greenBlue:"Green to Blue",orangePink:"Orange to Pink",bluePurple:"Blue to Purple"},singleColors:{aloeGreen:["#7bdcc0"],greenColor:["#6aedc7"],blueColor:["#39c2c9"],yellowColor:["#ffce00"],orangeColor:["#ffa71a"],pinkColor:["#f866b9"],purpleColor:["#998ce3"]},singleColorsHuman:{aloeGreen:"Aloe Green",greenColor:"Green",blueColor:"Blue",yellowColor:"Yellow",orangeColor:"Orange",pinkColor:"Pink",purpleColor:"Purple"}},w=n(16),M=n.n(w);const C="undefined"!=typeof window,L=navigator.msSaveOrOpenBlob;let T=C&&window.btoa;T||(T=j.a.encode);const S={styleClass:"britechartStyle",defaultFilename:"britechart.png",chartBackground:"white",imageSourceBase:"data:image/svg+xml;base64,",titleFontSize:"15px",titleFontFamily:"‘Helvetica Neue’, Helvetica, Arial, sans-serif",titleTopOffset:15,get styleBackgroundString(){return`<style>svg{background:${this.chartBackground};}</style>`}};function E(t,e,n){return L?(console.error("Sorry, this feature is not available for IE. If you require this to work, check this issue https://github.com/eventbrite/britecharts/pull/652"),!1):N(B.call(this,t,n)).then(t=>({canvas:D(this.width(),this.height()),img:t})).then(({canvas:t,img:n})=>$.call(n,t,e))}function B(t,e){if(!t)return;t.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");let n=M.a.initializeSerializer()(t.node());return n=function(t){if(navigator.userAgent.search("FireFox")>-1)return t.replace(/url.*&quot;\)/,'url(&quot;linearGradient[id*="-gradient-"]&quot;);');return t}(n),n=P.call(this,n,e,parseInt(t.attr("width"),10)),n=function(t){return t.replace(">",">"+S.styleBackgroundString)}(n),n}function D(t,e){let n=document.createElement("canvas");return n.height=e,n.width=t,n}function F(t,e){let n=new Image;if(e){if("function"!=typeof e)throw new Error(`The callback provided should be a function, we got a ${typeof e} instead.`);e(n)}var a;return n.src=`${S.imageSourceBase}${a=t,T(encodeURIComponent(a).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode("0x"+e)})))}`,n}function R(t,e){return e.getContext("2d").drawImage(t,0,0),e}function $(t,e){!function(t,e=S.defaultFilename,n="image/png"){let a=t.toDataURL(n),r=document.createElement("a");r.href=a,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}(R(this,t),e)}function N(t){return new Promise((e,n)=>{F(t,t=>{t.addEventListener("load",()=>e(t)),t.addEventListener("error",t=>n(t))})})}function P(t,e,n){if(!e||!n)return t;let{grey:a}=k;return t=t.replace(/<g/,`<text x="${this.margin().left}" y="${S.titleTopOffset}" font-family="${S.titleFontFamily}" font-size="${S.titleFontSize}" fill="${a[6]}"> ${e} </text><g `)}const I='\n        <defs>\n            <linearGradient id="lgrad" x1="0%" y1="50%" x2="100%" y2="50%" >\n                <stop offset="0" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="33.33%" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="50%" stop-color="#ffffff" stop-opacity="0" />\n                <stop offset="66.66%" stop-color="#ffffff" stop-opacity="0.8" />\n                <stop offset="100%" stop-color="#ffffff" stop-opacity="0.8" />\n            </linearGradient>\n        </defs>\n    ',H=`\n        <svg class="load-state bar-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 711 325">\n            ${I}\n            <g fill="none" fill-rule="evenodd">\n                <g transform="translate(-15 29)">\n                    <g stroke="#EFF2F5" stroke-dasharray="4 4">\n                        <path d="M.400592911 200.302477L710.674315 200.302477M.400592884 131.172748L710.674315 131.172748M.324410282 64.2071321L710.621499 64.2071321M.291004517.563888874L709.82431.563888889"/>\n                    </g>\n                    <g fill="#D2D6DF" transform="translate(63.08 11)">\n                        <polygon points="-.08 176 23.92 176 23.92 255 -.08 255"/>\n                        <polygon points="50.829 147 74.829 147 74.829 255 50.829 255"/>\n                        <polygon points="254.465 0 278.465 0 278.465 255 254.465 255"/>\n                        <polygon points="458.102 169 482.102 169 482.102 255 458.102 255"/>\n                        <polygon points="152.647 82 176.647 82 176.647 255 152.647 255"/>\n                        <polygon points="356.283 66 380.283 66 380.283 255 356.283 255"/>\n                        <polygon points="559.92 229 583.92 229 583.92 255 559.92 255"/>\n                        <polygon points="101.738 115 125.738 115 125.738 255 101.738 255"/>\n                        <polygon points="305.374 42 329.374 42 329.374 255 305.374 255"/>\n                        <polygon points="509.011 201 533.011 201 533.011 255 509.011 255"/>\n                        <polygon points="203.556 19 227.556 19 227.556 255 203.556 255"/>\n                        <polygon points="407.192 115 431.192 115 431.192 255 407.192 255"/>\n                    </g>\n                </g>\n                <polygon fill="#D2D6DF" fill-rule="nonzero" points="0 295 711 295 711 294 0 294"/>\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    `,z=`\n        <svg class="load-state donut-load-state" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 376 331">\n            ${I}\n            <g fill="none" fill-rule="evenodd">\n                <g transform="translate(116 107)">\n                    <circle cx="72" cy="72" r="72" stroke="#EFF2F5" stroke-linecap="round" stroke-width="9.6"/>\n                    <path stroke="#D2D6DF" stroke-width="19.2" d="M126.153559,119.524055 C137.264629,106.845712 144,90.2321371 144,72.0444604 C144,32.2554036 111.764502,0 72,0"/>\n                    <circle cx="72" cy="72" r="67.2" fill="#FFF"/>\n                </g>\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    `,_=`\n        <svg\n            class="load-state line-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            ${I}\n            <g transform="translate(-10 -10)">\n                <path\n                    id="chart-bg"\n                    class="chart-bg"\n                    style="stroke:#C3C6CF;"\n                    d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n                />\n                <polyline\n                    id="chart-line"\n                    class="chart-line"\n                    style="stroke:#C3C6CF;stroke-width:4;fill:none;"\n                    points="8.8,175.8 62.4,237.7 116.1,184.7 169.7,175.8 223.3,57 277,176.8 330.6,176.8 384.3,122.5 437.9,176.8 491.6,176.8 545.2,218.4 598.8,122.5 652.5,184.7 706.1,135.1 "\n                />\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    `,U=`\n        <svg\n            class="load-state stacked-area-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            ${I}\n            <path\n                id="chart-bg"\n                class="chart-bg"\n                style="stroke:#C3C6CF;"\n                d="M3.4,216.5h707.3 M3.4,160.5h707.3 M3.3,103.5h707.3 M3.3,48.5h707.6 M0.4,276.6H710H0.4z"\n            />\n            <g transform="translate(20 53)">\n                <path\n                    id="chart-area"\n                    strokeLinecap="square"\n                    d="M0.34233103,0.593688165 L709.977885,0.593688189"\n                    transform="translate(.01 227.976)"\n                />\n                <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L673.779853,177.734375 L673.779853,224.014648 L0.528124801,224.014648 Z" />\n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    `,G=`\n        <svg\n            class="load-state sparkline-load-state"\n            xmlns="http://www.w3.org/2000/svg"\n            viewBox="0 0 711 325"\n        >\n            ${I}\n            <g transform="translate(0 50)">\n                <path fill="#C3C6CF" d="M0.528124801,224.014648 L0.528124801,177.734375 L53.3834796,177.734375 C71.5390789,177.734375 86.8277373,168.972754 101.240241,151.662202 C112.578335,138.044258 121.139826,123.110227 136.974507,91.596773 C137.343842,90.8617404 139.300293,86.9654028 139.856735,85.8583549 C155.041692,55.6476711 163.354313,41.0906306 174.319873,27.7179171 C188.951312,9.87459412 204.885845,0.5 223.830634,0.5 C242.123071,0.5 257.291724,8.27027858 270.907992,23.1359289 C281.228683,34.4036118 289.135925,47.1272372 302.542017,72.085092 C303.275893,73.4513345 306.289669,79.0766612 307.063369,80.5168656 C321.41025,107.222876 330.088083,120.97663 341.470704,132.92446 C355.88994,148.05969 371.908861,155.792969 391.654853,155.792969 C412.142049,155.792969 428.763593,152.325614 442.880698,145.765582 C454.197328,140.506893 463.373931,133.679865 473.786035,123.626931 C476.528659,120.978915 486.44777,110.911455 488.791866,108.6483 C502.907223,95.0203436 514.194325,88.9355469 530.135322,88.9355469 C546.532652,88.9355469 559.505909,97.338499 575.973261,115.41103 C579.723508,119.526837 593.103621,135.086814 592.915496,134.871799 C605.09738,148.794859 614.368835,157.635549 625.072091,164.58539 C638.386599,173.230769 652.701021,177.734375 669.279853,177.734375 L773.779853,177.734375 L773.77853,204.014648 L0.528124801,204.014648 Z"/>    \n            </g>\n            <rect class="chart-filter" fill="url(#lgrad)" x="-100%" y="0" width="300%" height="100%"></rect>\n        </svg>\n    `;let q=0;const Y={small:{limit:10,format:Object(s.format)("")},medium:{limit:1e3,format:Object(s.format)("")},large:{limit:null,format:Object(s.format)(".2s")}},W={small:{limit:10,format:Object(s.format)(".3f")},medium:{limit:100,format:Object(s.format)(".1f")},large:{limit:null,format:Object(s.format)(".2s")}},V=(t,e)=>{let n="large";return t<e.small.limit?n="small":t<e.medium.limit&&(n="medium"),n},Q=(t,e,n)=>{const a=e?t/e*100:0;return Object(s.format)(n)(a)},K=t=>t%1==0,Z=t=>{let e=V(t,W);return(0,W[e].format)(t)},X=t=>{let e=V(t,Y);return(0,Y[e].format)(t)},J=t=>{const e=++q;return`${t.toString()}-${e}`};const tt=["decimal","thousands","grouping","currency"],et=t=>{if(nt(t))return s.formatDefaultLocale(t);throw new Error("Please pass in a valid locale object definition")},nt=t=>"object"==typeof t&&tt.every(e=>t.hasOwnProperty(e)),at=t=>{console.warn(`This method is being deprecated! Please modify your data to use "${t}" as the key.`)};var rt=n(5),it=n(4);const lt={MINUTE_HOUR:"minute-hour",HOUR_DAY:"hour-daymonth",DAY_MONTH:"day-month",MONTH_YEAR:"month-year",CUSTOM:"custom"},ot={ONE_AND_A_HALF_YEARS:47304e6,ONE_YEAR:31536000365,ONE_DAY:86400001},ct=1200,st={linear:rt.curveLinear,basis:rt.curveBasis,cardinal:rt.curveCardinal,catmullRom:rt.curveCatmullRom,monotoneX:rt.curveMonotoneX,monotoneY:rt.curveMonotoneY,natural:rt.curveNatural,step:rt.curveStep,stepAfter:rt.curveStepAfter,stepBefore:rt.curveStepBefore},ut=[{quantity:1,percentage:100}];it.timeMillisecond,it.utcMillisecond,it.timeSecond,it.utcSecond,it.timeMinute,it.utcMinute,it.timeHour,it.utcHour,it.timeDay,it.utcDay,it.timeWeek,it.utcWeek,it.timeSunday,it.utcSunday,it.timeMonday,it.utcMonday,it.timeTuesday,it.utcTuesday,it.timeWednesday,it.utcWednesday,it.timeThursday,it.utcThursday,it.timeFriday,it.utcFriday,it.timeSaturday,it.utcSaturday,it.timeMonth,it.utcMonth,it.timeYear,it.utcYear;const{scaleLinear:dt}=n(2),{classArray:ht}=n(21),ft="horizontal",pt="vertical";function gt(t){return e=>+t(e)+.5}function mt(t){let e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),n=>+t(n)+e+.5}function yt(t,e){let n=[0,1],a=0,r=0,i=!1,l=null,o=null,c=ht("grid",t),s=t===ft?"x":"y",u=t===ft?"y":"x";function d(t){let d=function(){let t=!0===i||"both"===i||"first"===i,n=!0===i||"both"===i||"last"===i,a=null===o?function(){let t;t=e.ticks?e.ticks.apply(e,l?[l]:[]):e.domain();return t.slice()}():o.slice();t&&a.shift();n&&a.pop();return a}(),h=(e.bandwidth?mt:gt)(e.copy()),f=n[n.length-1]>=n[0]?1:-1,p=t.selection?t.selection():t,g=p.selectAll(c.asSelector()).data([null]),m=g.merge(g.enter().append("g").attr("class",c.asList())),y=m.selectAll("line").data(d,e).order(),x=y.exit(),b=y.enter().append("line").attr("class","grid-line");if(y=y.merge(b),t!==p){const e=t=>function(e){return isFinite(e=h(e))?e:this.getAttribute(t)},n=function(t){let e=this.parentNode.__pos;return e&&isFinite(e=e(t))?e:h(t)};y=y.transition(t),x=x.transition(t).attr("opacity",1e-6).attr(u+"1",e(u+"1")).attr(u+"2",e(u+"2")),b=b.attr("opacity",1e-6).attr(u+"1",n).attr(u+"2",n)}x.remove(),y.attr("opacity",1).attr(s+"1",+n[0]-f*a).attr(s+"2",+n[n.length-1]+f*r).attr(u+"1",t=>h(t)).attr(u+"2",t=>h(t)),m.each((function(){this.__pos=h}))}return d.scale=function(t){return arguments.length?(e=t,d):e},d.range=function(t){return arguments.length?(n=t,d):n},d.offsetStart=function(t){return arguments.length?(a=t,d):a},d.offsetEnd=function(t){return arguments.length?(r=t,d):r},d.hideEdges=function(t){return arguments.length?(i=t,d):i},d.ticks=function(t){return arguments.length?(l=t,d):l},d.tickValues=function(t){return arguments.length?(o=null===t?null:[...t].slice(),d):o&&o.slice()},d}function xt(t){return yt(ft,t)}function bt(t){return yt(pt,t)}function vt(){let t,e,n,d,h,f,p,g,m,y,b,v,O,j={top:20,right:20,bottom:30,left:40},k=960,w=500,M=!1,C=A.singleColors.aloeGreen,L=null,T=null,S=J("bar-gradient"),B=5,D=5,F=1,R=",f",$=!1,N=7,P=",f",I=12,z=.1,_=0,U=0,G=10,q=!1,Y=!0,W=!1,V=i.easeQuadInOut,Q=ct,K=(t,e)=>70*e,Z=t=>t.attr("fill",({name:t})=>Object(o.color)(T?T[1]:L[t]).darker()),X="value",tt="name",nt=null,rt=null,it=30,lt=null,ot=null,st=-30,ut=!0,dt=null,ht=s,ft=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick"),pt=({name:t})=>t,gt=({value:t})=>t,mt=({value:t})=>h(t)+N,yt=({name:t})=>f(t)+f.bandwidth()/2+I*(3/8),vt=({name:t})=>h(t),Ot=({value:t})=>f(t)-N;function jt(i){dt&&(ht=et(dt)),i.each((function(i){n=k-j.left-j.right-1.2*G,d=w-j.top-j.bottom,({data:t,dataZeroed:e}=function(t){let{data:e,dataZeroed:n}=t;v&&(e.sort(v),n.sort(v));return{data:e,dataZeroed:n}}(function(t){let e=t.reduce((t,e)=>(e.value=+e[X],e.name=String(e[tt]),[...t,e]),[]),n=e.map(t=>({value:0,name:String(t[tt])}));return{data:e,dataZeroed:n}}(i))),function(t){b||(b=Object(a.select)(t).append("svg").classed("britechart bar-chart",!0),function(){let t=b.append("g").classed("container-group",!0).attr("transform",`translate(${j.left+G}, ${j.top})`);b.append("g").classed("loading-state-group",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),t.append("g").attr("transform",`translate(${-1*G}, 0)`).classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());b.attr("viewBox",[0,0,k,w]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",k).attr("height",w)}(this),M?b.select(".loading-state-group").html(H):(b.select(".loading-state-group svg").remove(),function(){let e=function(){const e=new Set(t.map(gt));if(1===e.size&&e.has(0))return F;return Math.min(F*Object(r.max)(t,gt))}();q?(h=Object(u.scaleLinear)().domain([0,e]).rangeRound([0,n]),f=Object(u.scaleBand)().domain(t.map(pt)).rangeRound([0,d]).padding(z)):(h=Object(u.scaleBand)().domain(t.map(pt)).rangeRound([0,n]).padding(z),f=Object(u.scaleLinear)().domain([0,e]).rangeRound([d,0]));p=ut?t.map(t=>t).reverse().map(({name:t},e)=>({name:t,color:C[e%C.length]})):t.map(t=>t).map(({name:t},e)=>({name:t,color:C[e%C.length]}));L=L||t.map(t=>t).reduce((t,{name:e},n)=>({...t,[e]:C[n%C.length]}),{})}(),function(t){q?(m=Object(l.axisBottom)(h).ticks(D,t.format(R)).tickSizeInner([-d]),y=Object(l.axisLeft)(f).ticks(B,t.format(R))):(m=Object(l.axisBottom)(h),y=Object(l.axisLeft)(f).ticks(B,t.format(R)))}(ht),!g&&T&&(g=b.select(".metadata-group").append("linearGradient").attr("id",S).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","100%").attr("gradientUnits","userSpaceOnUse").selectAll("stop").data([{offset:"0%",color:T[0]},{offset:"50%",color:T[1]}]).enter().append("stop").attr("offset",({offset:t})=>t).attr("stop-color",({color:t})=>t)),b.select(".grid-lines-group").selectAll("grid").remove(),q?(bt(h).range([0,d]).hideEdges("first").ticks(D)(b.select(".grid-lines-group")),b.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",U).attr("y2",d).attr("x1",0).attr("x2",0)):(xt(f).range([0,n]).hideEdges("first").ticks(B)(b.select(".grid-lines-group")),b.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",_).attr("x2",n).attr("y1",d).attr("y2",d)),b.select(".x-axis-group.axis").attr("transform",`translate(0, ${d})`).call(m),b.select(".y-axis-group.axis").call(y),b.selectAll(".y-axis-group .tick text").call(At,j.left-G),ot&&(lt&&lt.remove(),lt=b.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-d/2).attr("y",st).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(ot)),rt&&(nt&&nt.remove(),nt=b.select(".x-axis-label").append("text").attr("y",it).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",n/2).text(rt)),function(){let a;W?(a=b.select(".chart-group").selectAll(".bar").data(e),q?wt(a):Mt(a),a=b.select(".chart-group").selectAll(".bar").data(t),q?function(t){t.enter().append("rect").classed("bar",!0).attr("x",0).attr("y",d).attr("height",f.bandwidth()).attr("width",({value:t})=>h(t)).on("mouseover",(function(t,e,a){Ct(this,t,a,n,d)})).on("mousemove",(function(t){Lt(this,t,n,d)})).on("mouseout",(function(t,e,a){Tt(this,t,a,n,d)})).on("click",(function(t){St(this,t,n,d)})),t.attr("x",0).attr("y",({name:t})=>f(t)).attr("height",f.bandwidth()).attr("fill",({name:t})=>kt(t)).transition().duration(Q).delay(K).ease(V).attr("width",({value:t})=>h(t))}(a):function(t){t.enter().append("rect").classed("bar",!0).attr("x",n).attr("y",({value:t})=>f(t)).attr("width",h.bandwidth()).attr("height",({value:t})=>d-f(t)).on("mouseover",(function(t,e,a){Ct(this,t,a,n,d)})).on("mousemove",(function(t){Lt(this,t,n,d)})).on("mouseout",(function(t,e,a){Tt(this,t,a,n,d)})).on("click",(function(t){St(this,t,n,d)})).merge(t).attr("x",({name:t})=>h(t)).attr("width",h.bandwidth()).attr("fill",({name:t})=>kt(t)).transition().duration(Q).delay(K).ease(V).attr("y",({value:t})=>f(t)).attr("height",({value:t})=>d-f(t))}(a),a.exit().transition().style("opacity",0).remove()):(a=b.select(".chart-group").selectAll(".bar").data(t),q?wt(a):Mt(a),a.exit().remove())}(),$&&function(e){const n=q?mt:vt,a=q?yt:Ot;O&&b.selectAll(".percentage-label-group").remove();O=b.select(".metadata-group").append("g").classed("percentage-label-group",!0).selectAll("text").data(t.reverse()).enter().append("text"),O.classed("percentage-label",!0).attr("x",n).attr("y",a).text(({value:t})=>e.format(P)(t)).attr("font-size",I+"px")}(ht))}))}function kt(t){return T?`url(#${S})`:L[t]}function At(t,e){x(t,e,0,1)}function wt(t){t.enter().append("rect").classed("bar",!0).attr("y",d).attr("x",0).attr("height",f.bandwidth()).attr("width",({value:t})=>h(t)).on("mouseover",(function(t,e,a){Ct(this,t,a,n,d)})).on("mousemove",(function(t){Lt(this,t,n,d)})).on("mouseout",(function(t,e,a){Tt(this,t,a,n,d)})).on("click",(function(t){St(this,t,n,d)})).merge(t).attr("x",0).attr("y",({name:t})=>f(t)).attr("height",f.bandwidth()).attr("width",({value:t})=>h(t)).attr("fill",({name:t})=>kt(t))}function Mt(t){t.enter().append("rect").classed("bar",!0).attr("x",n).attr("y",({value:t})=>f(t)).attr("width",h.bandwidth()).attr("height",({value:t})=>d-f(t)).on("mouseover",(function(t,e,a){Ct(this,t,a,n,d)})).on("mousemove",(function(t){Lt(this,t,n,d)})).on("mouseout",(function(t,e,a){Tt(this,t,a,n,d)})).on("click",(function(t){St(this,t,n,d)})).merge(t).attr("x",({name:t})=>h(t)).attr("y",({value:t})=>f(t)).attr("width",h.bandwidth()).attr("height",({value:t})=>d-f(t)).attr("fill",({name:t})=>kt(t))}function Ct(t,e,n,r,i){ft.call("customMouseOver",t,e,Object(a.mouse)(t),[r,i]),Z=Z||function(){},Y?Z(Object(a.select)(t)):n.forEach(e=>{e!==t&&Z(Object(a.select)(e))})}function Lt(t,e,n,r){ft.call("customMouseMove",t,e,Object(a.mouse)(t),[n,r])}function Tt(t,e,n,r,i){ft.call("customMouseOut",t,e,Object(a.mouse)(t),[r,i]),n.forEach(t=>{Object(a.select)(t).attr("fill",({name:t})=>kt(t))})}function St(t,e,n,r){ft.call("customClick",t,e,Object(a.mouse)(t),[n,r])}return jt.animationDuration=function(t){return arguments.length?(Q=t,this):Q},jt.betweenBarsPadding=function(t){return arguments.length?(z=t,this):z},jt.chartGradient=function(t){return arguments.length?(T=t,this):T},jt.colorMap=function(t){return arguments.length?(L=t,this):L},jt.colorSchema=function(t){return arguments.length?(C=t,this):C},jt.enableLabels=function(t){return arguments.length?($=t,this):$},jt.exportChart=function(t,e){return E.call(jt,b,t,e)},jt.hasPercentage=function(t){return arguments.length?(R=t?"%":",f",this):"%"===R},jt.hasSingleBarHighlight=function(t){return arguments.length?(Y=t,this):Y},jt.height=function(t){return arguments.length?(w=t,this):w},jt.highlightBarFunction=function(t){return arguments.length?(Z=t,this):Z},jt.isAnimated=function(t){return arguments.length?(W=t,this):W},jt.isHorizontal=function(t){return arguments.length?(q=t,this):q},jt.labelsMargin=function(t){return arguments.length?(N=t,this):N},jt.labelsNumberFormat=function(t){return arguments.length?(P=t,this):P},jt.labelsSize=function(t){return arguments.length?(I=t,this):I},jt.isLoading=function(t){return arguments.length?(M=t,this):M},jt.margin=function(t){return arguments.length?(j={...j,...t},this):j},jt.nameLabel=function(t){return arguments.length?(tt=t,at("name"),this):tt},jt.numberFormat=function(t){return arguments.length?(R=t,this):R},jt.on=function(){let t=ft.on.apply(ft,arguments);return t===ft?jt:t},jt.percentageAxisToMaxRatio=function(t){return arguments.length?(F=t,this):F},jt.shouldReverseColorList=function(t){return arguments.length?(ut=t,this):ut},jt.orderingFunction=function(t){return arguments.length?(v=t,this):v},jt.valueLabel=function(t){return arguments.length?(X=t,at("value"),this):X},jt.valueLocale=function(t){return arguments.length?(dt=t,this):dt},jt.width=function(t){return arguments.length?(k=t,this):k},jt.xAxisLabel=function(t){return arguments.length?(rt=t,this):rt},jt.xAxisLabelOffset=function(t){return arguments.length?(it=t,this):it},jt.xTicks=function(t){return arguments.length?(D=t,this):D},jt.yAxisLabel=function(t){return arguments.length?(ot=t,this):ot},jt.yAxisLabelOffset=function(t){return arguments.length?(st=t,this):st},jt.yAxisPaddingBetweenChart=function(t){return arguments.length?(G=t,this):G},jt.yTicks=function(t){return arguments.length?(B=t,this):B},jt}var Ot=n(10);function jt(){let t,e,n,r,l,o,s,d,h,f,p,g={top:0,right:0,bottom:0,left:0},m=300,x=300,b=!1,v=i.easeCubicInOut,O=ct,j=12,k=140,w=45.5,M=k+w,C=!1,L=!1,T=!1,S=!0,B=!1,D=null,F={emptySliceColor:"#EFF2F5",showEmptySlice:!1},R=".1f",$=!0,N=null,P=A.colorSchemas.britecharts,I=t=>`${t.percentage}% ${t.name}`,H=function(t){this._current=t},_=t=>{t.outerRadius=k-j},U=(t,e)=>e.quantity-t.quantity,G=({quantity:t})=>t,q=({name:t})=>t,Y=({data:t})=>N[t.name],W=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function V(i){i.each((function(i){e=m-g.left-g.right,n=x-g.top-g.bottom,t=function(t){let e,n=t.reduce((t,e)=>void 0===e.quantity||null===e.quantity?t:(e.quantity=+e.quantity,e.name=String(e.name),e.percentage=e.percentage||null,[...t,e]),[]),a=(t=>t.reduce((t,e)=>e.quantity+t,0))(n);0===a&&F.showEmptySlice&&(L=!0);return e=n.map(t=>(t.percentage=String(t.percentage||Q(t.quantity,a,R)),t)),e}(i),function(t){s||(s=Object(a.select)(t).append("svg").classed("britechart donut-chart",!0),function(){let t=s.append("g").classed("container-group",!0).attr("transform",`translate(${m/2}, ${x/2})`);s.append("g").classed("loading-state-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("legend-group",!0)}());s.attr("viewBox",[0,0,m,x]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",m).attr("height",x)}(this),b?s.select(".loading-state-group").html(z):(s.select(".loading-state-group svg").remove(),r=Object(rt.pie)().padAngle(0).value(G).sort(U),P&&(p=Object(u.scaleOrdinal)().range(P),N=N||p.domain(t.map(q)).domain().reduce((t,e)=>(t[e]=p(e),t),{})),l=Object(rt.arc)().innerRadius(w).padRadius(k),function(){o&&s.selectAll("g.arc").remove();o=s.select(".chart-group").selectAll("g.arc").data(r(t));let a=o.enter().append("g").each(H).each(_).classed("arc",!0).append("path");C?a.merge(o).attr("fill",Y).on("mouseover",(function(t){X(this,t,e,n)})).on("mousemove",(function(t){J(this,t,e,n)})).on("mouseout",(function(t){tt(this,t,e,n)})).on("click",(function(t){et(this,t,e,n)})).transition().ease(v).duration(O).attrTween("d",at):a.merge(o).attr("fill",Y).attr("d",l).on("mouseover",(function(t){X(this,t,e,n)})).on("mousemove",(function(t){J(this,t,e,n)})).on("mouseout",(function(t){tt(this,t,e,n)})).on("click",(function(t){et(this,t,e,n)}));o.exit().remove()}(),s.select(".legend-group").append("text").attr("class","donut-text"),d&&(h=s.selectAll(".chart-group .arc path").select(Z).node(),h&&(K(h.__data__),nt(h,k,O))),L&&F.showEmptySlice&&function(){o&&s.selectAll("g.arc").remove();o=s.select(".chart-group").selectAll("g.arc").data(r(ut)),o.enter().append("g").each(H).each(_).classed("arc",!0).append("path").merge(o).attr("fill",F.emptySliceColor).attr("d",l).transition().ease(v).duration(O).attrTween("d",at),o.exit().remove()}())}))}function K(t){t.data&&$&&(s.select(".donut-text").text(()=>I(t.data)).attr("dy",".2em").attr("text-anchor","middle"),s.select(".donut-text").call(it,M))}function Z({data:t}){if(t.id===d)return this}function X(t,e,n,r){K(e),W.call("customMouseOver",t,e,Object(a.mouse)(t),[n,r]),S&&(D&&t!==D&&nt(D,k-j,150),h&&t!==h&&nt(h,k-j),nt(t,k))}function J(t,e,n,r){W.call("customMouseMove",t,e,Object(a.mouse)(t),[n,r])}function tt(t,e,n,r){s.select(".donut-text").text(""),h&&T&&!B&&(K(h.__data__),nt(h,k)),(t!==h||!T&&t===h)&&nt(t,k-j,150),B&&(K(t.__data__),nt(t,k),D=t),W.call("customMouseOut",t,e,Object(a.mouse)(t),[n,r])}function et(t,e,n,r){W.call("customClick",t,e,Object(a.mouse)(t),[n,r])}function nt(t,e,n=0){Object(a.select)(t).transition().delay(n).attrTween("d",(function(t){let n=Object(Ot.interpolate)(t.outerRadius,e);return e=>(t.outerRadius=n(e),l(t))}))}function at(t){let e;return t.innerRadius=0,e=Object(Ot.interpolate)({startAngle:0,endAngle:0},t),function(t){return l(e(t))}}function it(t,e){y.call(null,0,k/5,e,t.node())}return V.animationDuration=function(t){return arguments.length?(O=t,this):O},V.centeredTextFunction=function(t){return arguments.length?(I=t,this):I},V.colorMap=function(t){return arguments.length?(N=t,this):N},V.colorSchema=function(t){return arguments.length?(P=t,this):P},V.emptyDataConfig=function(t){return arguments.length?(F=t,this):F},V.exportChart=function(t,e){return E.call(V,s,t,e)},V.externalRadius=function(t){return arguments.length?(k=t,this):k},V.hasCenterLegend=function(t){return arguments.length?($=t,this):$},V.hasHoverAnimation=function(t){return arguments.length?(S=t,this):S},V.hasFixedHighlightedSlice=function(t){return arguments.length?(T=t,this):T},V.hasLastHoverSliceHighlighted=function(t){return arguments.length?(B=t,this):B},V.height=function(t){return arguments.length?(x=t,this):x},V.highlightSliceById=function(t){return arguments.length?(d=t,this):d},V.internalRadius=function(t){return arguments.length?(w=t,this):w},V.isAnimated=function(t){return arguments.length?(C=t,this):C},V.isLoading=function(t){return arguments.length?(b=t,this):b},V.margin=function(t){return arguments.length?(g={...g,...t},this):g},V.numberFormat=function(t){return arguments.length?(f=t,this):f},V.on=function(){let t=W.on.apply(W,arguments);return t===W?V:t},V.orderingFunction=function(t){return arguments.length?(U=t,this):U},V.percentageFormat=function(t){return arguments.length?(R=t,this):R},V.radiusHoverOffset=function(t){return arguments.length?(j=t,this):j},V.width=function(t){return arguments.length?(m=t,this):m},V}function kt(){let t,e,n,r,i,l,o={top:5,right:5,bottom:5,left:5},c=320,d=180,h=16,f=1.5,p="s",g="",m=!1,y=null,x=!0,v=null,O=A.colorSchemas.britecharts,j=({id:t})=>t,k=({name:t})=>t,w=({quantity:t})=>Object(s.format)(p)(t)+g,M=({name:e})=>null!==v&&v[e]?v[e]:t(e),C=({quantity:t})=>"number"==typeof t||"string"==typeof t;function L(s){s.each((function(s){n=c-o.left-o.right,r=d-o.top-o.bottom,i=function(t){return x=t.filter(C).length===t.length,t.reduce((t,e)=>(void 0!==e.quantity&&null!==e.quantity&&(e.quantity=+e.quantity),e.name=String(e.name),e.id=+e.id,[...t,e]),[])}(s),t=Object(u.scaleOrdinal)().range(O),function(t){l||(l=Object(a.select)(t).append("svg").classed("britechart britechart-legend",!0),l.append("g").classed("legend-container-group",!0).attr("transform",`translate(${o.left},${o.top})`).append("g").classed("legend-group",!0));l.attr("viewBox",[0,0,c,d]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",c).attr("height",d)}(this),m?function(){let t=h;l.select(".legend-group").selectAll("g").remove(),l.select(".legend-group").append("g").classed("legend-line",!0),e=l.select(".legend-line").selectAll("g.legend-entry").data(i),e.enter().append("g").classed("legend-entry",!0).attr("data-item",j).attr("transform",(function({name:e}){let n=t,a=r/2,i=b(e,12);return t+=h+2*E()+i,`translate(${n},${a})`})).merge(e).append("circle").classed("legend-circle",!0).attr("cx",h/2).attr("cy",-5).attr("r",h/2).style("fill",M).style("stroke-width",1),l.select(".legend-group").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(k).attr("x",E()).style("font-size","12px").style("letter-spacing","0.5px"),l.select(".legend-group").selectAll("g.legend-entry").exit().transition().style("opacity",0).remove(),function(){let t=l.select(".legend-line").node().getBoundingClientRect().width+h;n-t<=0&&function(){let t=l.selectAll(".legend-entry"),e=t.size(),n=r/2*1.7,a=l.select(".legend-group").append("g").classed("legend-line",!0).attr("transform",`translate(0, ${n})`),i=t.filter(`:nth-child(${e})`);i.attr("transform",`translate(${h},0)`),a.append(()=>i.node())}();!function(){let t=l.select("g.legend-container-group").node().getBoundingClientRect().width+E(),e=c-t,n=e/2;e>0&&l.select("g.legend-container-group").attr("transform",`translate(${n},0)`)}()}()}():function(){l.select(".legend-group").selectAll("g").remove(),e=l.select(".legend-group").selectAll("g.legend-line").data(i),e.enter().append("g").classed("legend-line",!0).append("g").classed("legend-entry",!0).attr("data-item",j).attr("transform",(function(t,e){return`translate(${h+E()},${(e+1)*(r/(i.length+1))})`})).merge(e).append("circle").classed("legend-circle",!0).attr("cx",h/2).attr("cy",-5).attr("r",h/2).style("fill",M).style("stroke-width",1),l.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-name",!0).text(k).attr("x",E()).style("font-size","12px").style("letter-spacing","0.5px"),x?l.select(".legend-group").selectAll("g.legend-line").selectAll("g.legend-entry").append("text").classed("legend-entry-value",!0).text(w).attr("x",n-40).style("font-size","12px").style("letter-spacing","0.8px").style("text-anchor","end").style("startOffset","100%"):function(){let t=l.select("g.legend-container-group").node().getBoundingClientRect().width,e=c-t,n=e/2-t/2;e>0&&l.select("g.legend-container-group").attr("transform",`translate(${n},0)`)}();l.select(".legend-group").selectAll("g.legend-line").exit().transition().style("opacity",0).remove()}(),y&&(T(),S(y))}))}function T(){l.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!1)}function S(t){let e=l.select(`[data-item="${t}"]`);e.nodes().length&&(l.select(".legend-group").selectAll("g.legend-entry").classed("is-faded",!0),e.classed("is-faded",!1))}function E(){return f*h}return L.clearHighlight=function(){T()},L.colorMap=function(t){return arguments.length?(v=t,this):v},L.colorSchema=function(t){return arguments.length?(O=t,this):O},L.height=function(t){return arguments.length?(d=t,this):d},L.highlight=function(t){T(),S(t)},L.highlightEntryById=function(t){return arguments.length?(y=t,this):y},L.isHorizontal=function(t){return arguments.length?(m=t,this):m},L.margin=function(t){return arguments.length?(o={...o,...t},this):o},L.marginRatio=function(t){return arguments.length?(f=t,this):f},L.markerSize=function(t){return arguments.length?(h=t,this):h},L.numberFormat=function(t){return arguments.length?(p=t,this):p},L.unit=function(t){return arguments.length?(g=t,this):g},L.width=function(t){return arguments.length?(c=t,this):c},L}var At=n(12),wt=n(9);const Mt={minute:{minute:"numeric"},hour:{hour:"numeric"},day:{day:"numeric"},daymonth:{day:"numeric",month:"short"},month:{month:"short"},year:{year:"numeric"}},Ct=(t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+e),String(n)},Lt=(t,e)=>Math.ceil(Math.abs((new Date(t).getTime()-new Date(e).getTime())/864e5)),Tt=t=>Math.ceil(t/864e5),St=(t,e="day")=>{let n=Mt[e],a=new Intl.DateTimeFormat(t,n);return t=>a.format(t)};const Et={minute:Object(wt.timeFormat)("%M m"),hour:Object(wt.timeFormat)("%H %p"),day:Object(wt.timeFormat)("%e"),daymonth:Object(wt.timeFormat)("%d %b"),month:Object(wt.timeFormat)("%b"),year:Object(wt.timeFormat)("%Y")},Bt={[lt.MINUTE_HOUR]:it.timeHour.every(1),[lt.HOUR_DAY]:it.timeDay.every(1),[lt.DAY_MONTH]:it.timeMonth.every(1),[lt.MONTH_YEAR]:it.timeYear.every(1)},Dt=(t,e,n=null,a=null)=>{const r=new Date(t[0].date),i=new Date(t[t.length-1].date)-r;a&&("undefined"==typeof Intl||"object"==typeof Intl&&!Intl.DateTimeFormat)&&(a=null),n||(n=(t=>{let e,{ONE_YEAR:n,ONE_DAY:a}=ot;return e=t<a?lt.HOUR_DAY:t<n?lt.DAY_MONTH:lt.MONTH_YEAR,e})(i));const[l,o]=n.split("-"),c=Bt[n],s=((t,e)=>{let n=Math.ceil(t/70);return e<5?it.timeDay:Math.min(e,n)})(e,Tt(i));return{minor:{format:a?St(a,l):Et[l],tick:s},major:{format:a?St(a,o):Et[o],tick:c}}},Ft=(t,e)=>{const n=t[0].date;return{tick:((t,e)=>{let n=Math.ceil(t/70);return Math.min(e,n)})(e,t[t.length-1].date-n)}};const Rt="highlight-filter",$t=t=>t.append("defs").append("filter").attr("id",Rt),Nt=t=>{t.attr("x","-500%").attr("y","-500%").attr("width","1800%").attr("height","1800%"),t.append("feColorMatrix").attr("type","matrix").attr("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"),t.append("feGaussianBlur").attr("stdDeviation","1").attr("result","coloredBlur").attr("in","SourceGraphic");let e=t.append("feMerge");return e.append("feMergeNode").attr("in","coloredBlur"),e.append("feMergeNode").attr("in","SourceGraphic"),Rt},Pt=(t,e,n,a=2*n)=>{t.transition().ease(e).duration(100).attr("r",a).transition().ease(e).delay(50).duration(100).attr("r",n)};const It=(t,e)=>"number"===e?Number(t):new Date(t);function Ht(){let t,e,n,o,d,h,f,p,g,m,y,x,b,v,O,j,k,w,M,C,L={top:60,right:30,bottom:40,left:70},T=960,S=500,B=!1,D=480,F=15,R=0,$=A.colorSchemas.britecharts,N=null,P=A.colorGradients.greenBlue,I=J("one-line-gradient"),H=null,z=null,U="date",G="linear",q=null,Y=null,W=null,V=!1,Q=!1,tt=i.easeQuadInOut,et=ct,nt="linear",it="date",ot="value",ut="topic",dt=null,ht=null,ft=null,pt=null,gt=36,mt=5,yt=!1,vt=[],Ot=A.colorSchemas.grey[3],jt=null,kt={},Mt=({date:t})=>t,Ct=({value:t})=>t,Lt=({topic:t})=>t,Tt=t=>t.topicName,St=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function Et(i){i.each((function(i){({dataByTopic:b,dataSorted:v}=function({dataByTopic:t,dataSorted:e,data:n}){if(!t&&!n)throw new Error("Data needs to have a dataByTopic or data property. See more in http://britecharts.github.io/britecharts/global.html#LineChartData__anchor");t?(n=t.reduce((t,e)=>(e.dates.forEach(n=>{t.push({topicName:e.topicName,name:e[ut],date:n[it],value:n[ot]})}),t),[]),console.warn("Lookout! You are using an old data shape (dataByTopic), please use the new flatter version as this one will be deprecated in version 4")):t=Object(At.nest)().key(Tt).entries(n).map(t=>({topic:t.values[0].name,topicName:t.key,dates:t.values}));e=Object(At.nest)().key(Mt).entries(n).map(t=>({date:It(t.key,U),topics:t.values}));return{dataByTopic:t.reduce((t,e)=>{let{dates:n,...a}=e,r=n.map(t=>{return{date:It(t[it],U),value:(e=t[ot],null===e?null:+e)};var e});return t.push({dates:r,...a}),t},[]),dataSorted:e}}(i)),n=T-L.left-L.right,o=S-L.top-L.bottom,function(e){t||(t=Object(a.select)(e).append("svg").classed("britechart line-chart",!0),function(){let e=t.append("g").classed("container-group",!0).attr("transform",`translate(${L.left},${L.top})`);t.append("g").classed("loading-state-group",!0),e.append("g").classed("x-axis-group",!0).append("g").classed("axis x",!0),e.selectAll(".x-axis-group").append("g").classed("axis sub-x",!0),e.append("g").classed("y-axis-group",!0).append("g").classed("axis y",!0),e.append("g").classed("grid-lines-group",!0),e.append("g").classed("custom-lines-group",!0),e.append("g").classed("chart-group",!0),e.append("g").classed("metadata-group",!0)}());t.attr("viewBox",[0,0,T,S]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",T).attr("height",S)}(this),B?t.select(".loading-state-group").html(_):(t.select(".loading-state-group svg").remove(),function(){d=function(){let t=Object(r.min)(b,({dates:t})=>Object(r.min)(t,Mt)),e=Object(r.max)(b,({dates:t})=>Object(r.max)(t,Mt));return"number"===U?"logarithmic"===G?Object(u.scaleLog)().domain([t,e]).rangeRound([0,n]):Object(u.scaleLinear)().domain([t,e]).rangeRound([0,n]):Object(u.scaleTime)().domain([t,e]).rangeRound([0,n])}(),h=function(){let t=Object(r.max)(b,({dates:t})=>Object(r.max)(t,Ct)),e=Object(r.min)(b,({dates:t})=>Object(r.min)(t,Ct)),n=e<0||yt?e:0,a=0===e&&0===t?1:t;return Object(u.scaleLinear)().domain([n,a]).rangeRound([o,0]).nice()}(),f=Object(u.scaleOrdinal)().range($).domain(b.map(Lt));let t=f.range();N=N||f.domain().reduce((e,n,a)=>(e[n]=t[a],e),{})}(),function(){let e,a;"number"===U?(e=Ft(v,T),a=null,p="logarithmic"===G?Object(l.axisBottom)(d).ticks(e.tick,"e").tickFormat((function(t){const e=Math.log(t)/Math.LN10;return Math.abs(Math.round(e)-e)<1e-6?"10^"+Math.round(e):""})):Object(l.axisBottom)(d).ticks(e.tick).tickFormat(Rt)):("custom"===q&&"string"==typeof W?(e={tick:Y,format:Object(wt.timeFormat)(W)},a=null):(({minor:e,major:a}=Dt(v,T,q,x)),g=Object(l.axisBottom)(d).ticks(a.tick).tickSize(0,0).tickFormat(a.format)),p=Object(l.axisBottom)(d).ticks(e.tick).tickSize(10,0).tickPadding(5).tickFormat(e.format));m=Object(l.axisLeft)(h).ticks(mt).tickSize([0]).tickPadding(5).tickFormat(Rt),function(e,a){t.select(".grid-lines-group").selectAll("grid").remove();let i=Object(r.min)(b,({dates:t})=>Object(r.min)(t,Ct))<0;"horizontal"!==jt&&"full"!==jt||(!function(e){xt(h).range([0,n]).hideEdges("first").ticks(e)(t.select(".grid-lines-group")),M=t.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",n).attr("y1",o).attr("y2",o)}(a),i&&t.select(".horizontal").selectAll(".grid-line").attr("class",t=>0===t?"grid-line horizontal-grid-line--highlighted":"grid-line"));"vertical"!==jt&&"full"!==jt||function(e){bt(d).range([0,o]).hideEdges("first").ticks(e)(t.select(".grid-lines-group")),C=t.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",R).attr("y2",o).attr("x1",0).attr("x2",0)}(e)}(e.tick,mt),function(){t.select(".custom-lines-group").selectAll(".custom-line").remove(),t.select(".custom-lines-group").selectAll(".custom-line-annotation").remove();let e=vt.map(t=>t.y);t.select(".custom-lines-group").selectAll("line.custom-line").data(e).enter().append("line").attr("class","custom-line").attr("x1",0).attr("x2",n).attr("y1",t=>h(t)).attr("y2",t=>h(t)).attr("stroke",t=>(t=>{const e=vt.find(e=>e.y===t).color;return e||Ot})(t)).attr("fill","none");for(let e of vt)e.name&&t.select(".custom-lines-group").append("text").attr("x",n).attr("y",h(e.y)-6).attr("class","custom-line-annotation").attr("text-anchor","end").attr("dominant-baseline","baseline").text(e.name)}()}(),function(){t.select(".x-axis-group .axis.x").attr("transform",`translate(0, ${o})`).call(p),"custom"!==q&&"number"!==U&&t.select(".x-axis-group .axis.sub-x").attr("transform",`translate(0, ${o+30})`).call(g);if(dt){ht&&t.selectAll(".x-axis-label").remove();let e=n/2,a=o+30+36;ht=t.select(".x-axis-group").append("text").attr("x",e).attr("y",a).attr("text-anchor","middle").attr("class","x-axis-label").text(dt)}if(t.select(".y-axis-group .axis.y").attr("transform",`translate(${-F}, 0)`).call(m).call(Bt),ft){pt&&t.selectAll(".y-axis-label").remove();let e=-gt-F,n=-o/2;pt=t.select(".y-axis-group").append("text").attr("x",n).attr("y",e).attr("text-anchor","middle").attr("transform","rotate(270)").attr("class","y-axis-label").text(ft)}}(),y||(y=t.select(".metadata-group").append("linearGradient").attr("id",I).attr("x1","0%").attr("y1","0%").attr("x2","100%").attr("y2","0%").attr("gradientUnits","userSpaceOnUse").selectAll("stop").data([{offset:"0%",color:P[0]},{offset:"100%",color:P[1]}]).enter().append("stop").attr("offset",({offset:t})=>t).attr("stop-color",({color:t})=>t)),function(){let n,a;kt={},a=Object(rt.line)().curve(st[nt]).x(({date:t})=>d(t)).defined(({value:t})=>null!==t).y(({value:t})=>h(t)),n=t.select(".chart-group").selectAll(".line").data(b,Lt),e=n.enter().append("g").attr("class","topic").append("path").attr("class","line").merge(n).attr("id",({topic:t})=>t).attr("d",({dates:t})=>a(t)).attr("stroke",t=>1===b.length?`url(#${I})`:(({topic:t})=>N[t])(t)).attr("fill","none"),n.exit().remove()}(),function(){if(Q){const t=e.nodes().reduce(Ht,0);e.attr("stroke-dasharray",t+" "+3*t).style("will-change","stroke-dasharray").attr("stroke-dashoffset",t).transition().duration(et).ease(tt).attr("stroke-dashoffset",10)}}(),T>D&&(O||(O=t.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",S).attr("height",o).attr("width",n).attr("fill","rgba(0, 0, 0, 0)").style("display","none")),j||(j=t.select(".metadata-group").append("g").attr("class","hover-marker vertical-marker-container").attr("transform","translate(9999, 0)"),k=j.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",o).attr("x2",0).attr("y2",0)),t.on("mouseover",(function(t){!function(t,e){O.style("display","block"),k.classed("bc-is-active",!0),St.call("customMouseOver",t,e,Object(a.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){O.style("display","none"),k.classed("bc-is-active",!1),j.attr("transform","translate(9999, 0)"),St.call("customMouseOut",t,e,Object(a.mouse)(t))}(this,t)})).on("mousemove",(function(n){!function(n){let i,[l,o]=Object(a.mouse)(n),c=-L.left,s=function(t){let e,n=d.invert(t),a=(0,Object(r.bisector)(Mt).left)(v,n,1),i=v[a],l=v[a-1];var o,c,s;return e=l&&i?(o=n,c=i,s=l,"number"===U?o-c.date>s.date-o?c:s:new Date(o).getTime()-new Date(c.date).getTime()>new Date(s.date).getTime()-new Date(o).getTime()?c:s):i,e}(l+c);var u;s&&(i=d(new Date(s.date)),u=i,j.attr("transform",`translate(${u},0)`),function(n){j.selectAll(".circle-container").remove();const r=e.nodes().reduce((t,e)=>(t[e.id]=e,t),{}),i=n.topics.map(t=>({topic:t,node:r[t.name]})).filter(({topic:t})=>!!t).sort((t,e)=>N[t.topic.name]<N[e.topic.name]);n.topics=i.map(({topic:t})=>t),n.topics.forEach((e,r)=>{let l=j.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",()=>V?5:2).style("stroke",N[e.name]).style("cursor","pointer").on("click",(function(){!function(e){H||(H=$t(t.select(".metadata-group")),z=Nt(H));let n=Object(a.select)(e);n.style("stroke-width",5).style("stroke-opacity",.6).attr("filter",`url(#${z})`),Pt(n,tt,5)}(this),function(t,e){St.call("customDataEntryClick",t,e,Object(a.mouse)(t))}(this,e)})).on("mouseout",(function(){var t;t=this,Object(a.select)(t).attr("filter","none")}));const o=i[r].node,c=zt(d(new Date(n.topics[r].date)),o,e.name);l.attr("transform",`translate( -12, ${c} )`)})}(s),St.call("customMouseMove",n,s,N,i,o))}(this)}))),V&&function(){t.select(".chart-group").selectAll(".data-points-container").remove();const n=e.nodes().reduce((t,e)=>(t[e.id]=e,t),{}),a=v.reduce((t,e)=>{const a=e.topics.map(t=>({topic:t,node:n[t.name]}));return t=[...t,...a]},[]);t.select(".chart-group").append("g").classed("data-points-container",!0).selectAll("circle").data(a).enter().append("circle").classed("data-point-mark",!0).attr("r",5).style("stroke-width",2).style("stroke",t=>N[t.topic.name]).style("cursor","pointer").attr("cx",t=>d(new Date(t.topic.date))).attr("cy",t=>zt(d(new Date(t.topic.date)),t.node,t.topic.name))}(),t.on("touchmove",(function(t){!function(t,e){St.call("customTouchMove",t,e,Object(a.touch)(t))}(this,t)})))}))}function Bt(t){t.selectAll(".tick text").attr("transform","translate(0, -7)")}function Rt(t){let e;return e=K(t)?X:Z,w&&(e=Object(s.format)(w)),e(t)}function Ht(t,e){return t>e.pathLength?t:e.pathLength}function zt(t,e,n,a){const r=`${n}-${t}`;if(r in kt)return kt[r];a=a||.01;let i,l=0,o=e.pathLength;try{i=e.getPointAtLength((o+l)/2)}catch(t){i={x:0,y:0}}let c=0;for(;t<i.x-a||t>i.x+a;){const n=(l+o)/2;try{i=e.getPointAtLength(n)}catch(t){i={x:0,y:0}}if(t<i.x?o=n:l=n,c+=1,100<c)break}return kt[r]=i.y,kt[r]}return Et.animationDuration=function(t){return arguments.length?(et=t,this):et},Et.axisTimeCombinations=lt,Et.xAxisLabel=function(t){return arguments.length?(dt=t,this):dt},Et.yAxisLabel=function(t){return arguments.length?(ft=t,this):ft},Et.colorSchema=function(t){return arguments.length?($=t,this):$},Et.colorMap=function(t){return arguments.length?(N=t,this):N},Et.dateLabel=function(t){return arguments.length?(it=t,at("date"),this):it},Et.xAxisCustomFormat=function(t){return arguments.length?(W=t,this):W},Et.xAxisFormat=function(t){return arguments.length?(q=t,this):q},Et.xTicks=function(t){return arguments.length?(Y=t,this):Y},Et.grid=function(t){return arguments.length?(jt=t,this):jt},Et.hasMinimumValueScale=function(t){return arguments.length?(yt=t,this):yt},Et.height=function(t){return arguments.length?(S=t,this):S},Et.isAnimated=function(t){return arguments.length?(Q=t,this):Q},Et.lines=function(t){return arguments.length?(vt=t,this):vt},Et.lineCurve=function(t){return arguments.length?(nt=t,this):nt},Et.lineGradient=function(t){return arguments.length?(P=t,this):P},Et.isLoading=function(t){return arguments.length?(B=t,this):B},Et.locale=function(t){return arguments.length?(x=t,this):x},Et.margin=function(t){return arguments.length?(L={...L,...t},this):L},Et.numberFormat=function(t){return arguments.length?(w=t,this):w},Et.shouldShowAllDataPoints=function(t){return arguments.length?(V=t,this):V},Et.tooltipThreshold=function(t){return arguments.length?(D=t,this):D},Et.topicLabel=function(t){return arguments.length?(ut=t,at("topic"),this):ut},Et.valueLabel=function(t){return arguments.length?(ot=t,at("value"),this):ot},Et.yAxisLabelPadding=function(t){return arguments.length?(gt=t,this):gt},Et.yTicks=function(t){return arguments.length?(mt=t,this):mt},Et.width=function(t){return arguments.length?(T=t,this):T},Et.exportChart=function(e,n){return E.call(Et,t,e,n)},Et.on=function(){let t=St.on.apply(St,arguments);return t===St?Et:t},Et.xAxisValueType=function(t){return arguments.length?(U=t,this):U},Et.xAxisScale=function(t){return arguments.length?(G=t,this):G},Et}function zt(){let t,e,n,r,l,o,c,u,d,h,f,p,g=2,m=2,y=2,x=2,O="Tooltip title",j=!0,k={y:-55,x:0},A=48,w=0,M=37,C=0,L=i.easeQuadInOut,T="date",S="value",E="name",B="topics",D=lt.DAY_MONTH,F="date",R=null,$=null,N=[],P=null,I=null,H=Object(wt.timeFormat)("%b %d, %Y"),z=Object(wt.timeFormat)("%b %d, %I %p");function _(i){i.each((function(i){d=250-x-m,h=45-g-y,f=i,function(i){p||(p=Object(a.select)(i).append("g").classed("britechart britechart-tooltip",!0).style("visibility","hidden"),p.append("g").classed("tooltip-container-group select-disable",!0).attr("transform",`translate( ${x}, ${g})`).append("g").classed("tooltip-group",!0),e=p.selectAll(".tooltip-group").append("g").classed("tooltip-text",!0),t=e.append("rect").classed("tooltip-background",!0).attr("x",-50.5).attr("y",0).attr("width",250).attr("height",A).attr("rx",3).attr("ry",3),r=e.append("text").classed("tooltip-title",!0).attr("x",W()).attr("dy","0em").attr("y",24).style("fill","#6D717A"),n=e.append("g").classed("tooltip-body",!0).style("fill","#282C35"),function(){const t=V(Date.now()),e=v(t,16,230);e>1&&(C=17*(e-1))}());p.transition().attr("width",250).attr("height",45),_.hide()}(this)}))}function U(t){let e,n=t[S];return e=t.missingValue?"-":function(t){if(null!==I)return I(t);let e=Z;return t?(null!==P?e=Object(s.format)(P):K(t)&&(e=X),e(t)):0}(n).toString(),e}function G(t){let e,a,r,i,s=t[E];a=t.topicName||s,r=U(t),i=n.append("text").classed("tooltip-left-text",!0).attr("dy","1em").attr("x",w).attr("y",M).style("fill","#000000").text(a).call(Q,170,-22),e=n.append("text").classed("tooltip-right-text",!0).attr("dy","1em").attr("x",w).attr("y",M).style("fill","#000000").text(r),l=i.node().getBBox().height?i.node().getBBox().height:l,A+=l+5,o=e.node().getBBox().width?e.node().getBBox().width:o,e.attr("x",250-o-10-62.5),n.append("circle").classed("tooltip-circle",!0).attr("cx",-32.5).attr("cy",M+8).attr("r",4).style("fill",c[s]).style("stroke-width",1),M+=l+7}function q(e,n){let[a,r]=function([t,e]){let n,a;return n=t-250<0?65:-215,a=k.y,[n,a]}([e,n]);p.transition().duration(100).ease(L).style("opacity",1),t.attr("width",250).attr("height",A),p.selectAll(".tooltip-group").transition().duration(100).ease(L).attr("transform",`translate(${a}, ${r})`)}function Y(t){return"number"===F?Number(t):function(t){let e=R||D,n=null,a={month:"short",day:"numeric"};e===lt.DAY_MONTH||e===lt.MONTH_YEAR?(n=H,a.year="numeric"):e===lt.HOUR_DAY||e===lt.MINUTE_HOUR?(n=z,a.hour="numeric"):e===lt.CUSTOM&&"string"==typeof $&&(n=Object(wt.timeFormat)($));if(u&&"undefined"!=typeof Intl&&"object"==typeof Intl&&Intl.DateTimeFormat){return Intl.DateTimeFormat(u,a).format(t)}return n(t)}(new Date(t))}function W(){return-38.5}function V(t){let e=O,n=Y(t);return e.length?j&&(e=`${e} - ${n}`):e=n,e}function Q(t,e,n=0){t.each((function(){let r,i,l,o,c,s,u,d;for(r=(t=Object(a.select)(this)).text().split(/\s+/).reverse(),l=[],o=0,c=1.2,s=t.attr("y"),u=parseFloat(t.attr("dy")),d=t.text(null).append("tspan").attr("x",n).attr("y",s).attr("dy",u+"em");i=r.pop();){l.push(i),d.text(l.join(" "));b(l.join(" "),16,"Karla, sans-serif")>e&&(l.pop(),d.text(l.join(" ")),o<2&&(l=[i],d=t.append("tspan").attr("x",n).attr("y",s).attr("dy",1.2*++o+u+"em").text(i)))}}))}function J(t){let e=t[B];N.length?e=function(t,e=N){return e.map(e=>t.filter(({name:t})=>t===e)[0])}(e):e.length&&e[0].name&&(e=function(t){return t.map(t=>t).sort((t,e)=>t.name>e.name?1:t.name===e.name?0:-1)}(e)),n.selectAll("text").remove(),n.selectAll("circle").remove(),function(t){const e=V(t[T]);r.text(e).call(Q,230,-38.5)}(t),A=48+C+12,M=37+C,w=0,e.forEach(G)}return _.axisTimeCombinations=lt,_.dateFormat=function(t){return arguments.length?(R=t,this):R||D},_.dateCustomFormat=function(t){return arguments.length?($=t,this):$},_.dateLabel=function(t){return arguments.length?(T=t,at("date"),this):T},_.hide=function(){return p.style("visibility","hidden"),this},_.locale=function(t){return arguments.length?(u=t,this):u},_.nameLabel=function(t){return arguments.length?(E=t,at("name"),this):E},_.numberFormat=function(t){return arguments.length?(P=t,this):P},_.valueFormatter=function(t){return arguments.length?(I=t,this):I},_.shouldShowDateInTitle=function(t){return arguments.length?(j=t,this):j},_.show=function(){return p.style("visibility","visible").style("opacity",0),this},_.title=function(t){return arguments.length?(O=t,this):O},_.tooltipOffset=function(t){return arguments.length?(k=t,this):k},_.topicsOrder=function(t){return arguments.length?(N=t,this):N},_.topicLabel=function(t){return arguments.length?(B=t,at("topic"),this):B},_.update=function(t,e,n,a=null){return c=e,function(t,e,n){J(t),q(e,n)}(t,n,a),this},_.valueLabel=function(t){return arguments.length?(S=t,at("value"),this):S},_.xAxisValueType=function(t){return arguments.length?(F=t,this):F},_}const _t={"font-size":"22px","font-family":"sans-serif","font-style":"normal","font-weight":0};function Ut(){let t,e,n,l,o,c,s,d,h,f,p,g,m,y,x={left:5,right:5,top:5,bottom:5},b=100,v=30,O=!1,j=["#F5FDFF","#F6FEFC"],k=J("sparkline-area-gradient"),w=A.colorGradients.greenBlue,M=J("sparkline-line-gradient"),C=J("maskingClip"),L=!1,T=ct,S=i.easeQuadInOut,B=_t,D="value",F="date",R=({date:t})=>t,$=({value:t})=>t;function N(i){i.each((function(i){s=b-x.left-x.right,d=v-x.top-x.bottom,h=i.reduce((t,e)=>(e.date=new Date(e[F]),e.value=+e[D],[...t,e]),[]),function(t){c||(c=Object(a.select)(t).append("svg").classed("britechart sparkline",!0),function(){let t=c.append("g").classed("container-group",!0).attr("transform",`translate(${x.left},${x.top})`);c.append("g").classed("loading-state-group",!0),t.append("g").classed("text-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());c.attr("viewBox",[0,0,b,v]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",b).attr("height",v)}(this),O?c.select(".loading-state-group").html(G):(c.select(".loading-state-group svg").remove(),t=Object(u.scaleLinear)().domain(Object(r.extent)(h,R)).range([0,s]),e=Object(u.scaleLinear)().domain(Object(r.extent)(h,$)).range([d,0]),function(){let e=c.select(".metadata-group");(n||l)&&(c.selectAll("#"+k).remove(),c.selectAll("#"+M).remove());n=e.append("linearGradient").attr("id",k).attr("class","area-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(h[h.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:j[0]},{offset:"100%",color:j[1]}]).enter().append("stop").attr("offset",({offset:t})=>t).attr("stop-color",({color:t})=>t),l=e.append("linearGradient").attr("id",M).attr("class","line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(h[h.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:w[0]},{offset:"100%",color:w[1]}]).enter().append("stop").attr("offset",({offset:t})=>t).attr("stop-color",({color:t})=>t)}(),function(){o&&c.selectAll("#"+C).remove();L&&(o=c.select(".metadata-group").append("clipPath").attr("id",C).attr("class","clip-path").append("rect").attr("width",0).attr("height",v),Object(a.select)(`#${C} rect`).transition().ease(S).duration(T).attr("width",b))}(),function(){p&&c.selectAll(".sparkline-area").remove();p=Object(rt.area)().x(({date:e})=>t(e)).y0(()=>e(0)+1).y1(({value:t})=>e(t)).curve(rt.curveBasis),c.select(".chart-group").append("path").datum(h).attr("class","sparkline-area").attr("fill",`url(#${k})`).attr("d",p).attr("clip-path",`url(#${C})`)}(),function(){f&&c.selectAll(".line").remove();f=Object(rt.line)().curve(rt.curveBasis).x(({date:e})=>t(e)).y(({value:t})=>e(t)),c.select(".chart-group").append("path").datum(h).attr("class","line").attr("stroke",`url(#${M})`).attr("d",f).attr("clip-path",`url(#${C})`).attr("fill","none")}(),function(){g&&c.selectAll(".sparkline-circle").remove();g=c.selectAll(".chart-group").append("circle").attr("class","sparkline-circle").attr("cx",t(h[h.length-1].date)).attr("cy",e(h[h.length-1].value)).attr("r",1.5)}(),y&&function(){m&&c.selectAll(".sparkline-text").remove();m=c.selectAll(".text-group").append("text").attr("x",s/2).attr("y",d/6).attr("text-anchor","middle").attr("class","sparkline-text").style("font-size",B["font-size"]||_t["font-size"]).style("fill",B.fill||w[0]).style("font-family",B["font-family"]||_t["font-family"]).style("font-weight",B["font-weight"]||_t["font-weight"]).style("font-style",B["font-style"]||_t["font-style"]).text(y)}())}))}return N.animationDuration=function(t){return arguments.length?(T=t,this):T},N.areaGradient=function(t){return arguments.length?(j=t,this):j},N.dateLabel=function(t){return arguments.length?(F=t,at("date"),this):F},N.exportChart=function(t,e){return E.call(N,c,t,e)},N.height=function(t){return arguments.length?(v=t,this):v},N.isAnimated=function(t){return arguments.length?(L=t,this):L},N.lineGradient=function(t){return arguments.length?(w=t,this):w},N.isLoading=function(t){return arguments.length?(O=t,this):O},N.margin=function(t){return arguments.length?(x={...x,...t},this):x},N.titleText=function(t){return arguments.length?(y=t,this):y},N.titleTextStyle=function(t){return arguments.length?(B=t,this):B},N.valueLabel=function(t){return arguments.length?(D=t,at("value"),this):D},N.width=function(t){return arguments.length?(b=t,this):b},N}const Gt=t=>t.filter((t,e,n)=>n.indexOf(t)===e);function qt(){let t,e,n,o,s,d,h,f,p,g,m,y,x,b,v,O,j,k,w,M,C,L,T,S,B,D,F,R={top:70,right:30,bottom:60,left:70},$=960,N=500,P=!1,I="date",H="linear",z=5,_=0,G=-60,q=A.colorSchemas.britecharts,Y=A.colorGradients.greenBlue,W=null,V=null,Q=null,J=.24,tt=null,et=null,nt=null,it="monotoneX",ot=Object(r.range)(20,200,20),ut=!1,dt=i.easeQuadInOut,ht=ct,ft=!0,pt=null,gt=480,mt=15,yt=0,vt="date",Ot="value",jt="name",kt={minDate:new Date((new Date).setDate((new Date).getDate()-30)),maxDate:new Date,minY:0,maxY:500},Mt=!1,Tt=({name:t})=>t,St=({date:t})=>t,Et=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customDataEntryClick","customTouchMove");function Bt(i){i.each((function(i){var c;L=$-R.left-R.right,T=N-R.top-R.bottom,S=(c=0===(c=i).length?function(){const t=Lt(kt.minDate,kt.maxDate),e=Array.apply(null,Array(t));return Mt=!0,[...e.map((t,e)=>({[vt]:Ct(kt.minDate,e),[Ot]:0,[jt]:"1"})),...e.map((t,e)=>({[vt]:Ct(kt.minDate,e),[Ot]:0,[jt]:"2"}))]}():c).reduce((t,e)=>(e.date=It(e[vt],I),e.value=+e[Ot],[...t,e]),[]),B=function(t){return Object(At.nest)().key(St).entries(t.sort((t,e)=>t.date-e.date)).map(t=>Object.assign({},t,{date:It(t.key,I)}))}(S),function(t){C||(C=Object(a.select)(t).append("svg").classed("britechart stacked-area",!0),function(){let t=C.append("g").classed("container-group",!0).attr("transform",`translate(${R.left},${R.top})`);C.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.selectAll(".x-axis-group").append("g").classed("axis sub-x",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());C.attr("viewBox",[0,0,$,N]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",$).attr("height",N)}(this),P?C.select(".loading-state-group").html(U):(C.select(".loading-state-group svg").remove(),function(){D=B.map(t=>Object.assign({},t,t.values)).map(t=>(Object.keys(t).forEach(e=>{const n=t[e];n&&n.name&&(t[n.name]=n.value)}),Object.assign({},t,{date:It(t.key,I)}))),F=B.map(t=>Object.assign({},t,t.values)).map(t=>(Object.keys(t).forEach(e=>{const n=t[e];n&&n.name&&(t[n.name]=0)}),Object.assign({},t,{date:It(t.key,I)})));let t=Gt(S.map(Tt)).reduce((t,e)=>Object.assign({},t,{[e]:0}),{}),e=S.reduce((t,e)=>Object.assign({},t,{[e.name]:t[e.name]+=e.value}),t);f=p||function(t){let e=Object.keys(t).sort((e,n)=>t[e]>t[n]?-1:t[e]===t[n]?0:1),n=e.indexOf("Other");if(n>=0){let t=e.splice(n,1);e=e.concat(t)}return e}(e);let n=Object(rt.stack)().keys(f).order(rt.stackOrderNone).offset(rt.stackOffsetNone);b=n(F),y=function(t){if(0===_)return t;return t=t.map(t=>(t.map(t=>(t[0]=_,t)),t))}(n(D))}(),t="number"===I?"logarithmic"===H?Object(u.scaleLog)().domain(Object(r.extent)(B,({date:t})=>t)).rangeRound([0,L]):Object(u.scaleLinear)().domain(Object(r.extent)(B,({date:t})=>t)).rangeRound([0,L]):Object(u.scaleTime)().domain(Object(r.extent)(B,({date:t})=>t)).rangeRound([0,L]),o=function(){const t=Ut(),e=Mt?kt.maxY:Object(r.max)([_t(),_]);return Object(u.scaleLinear)().domain([t,e]).rangeRound([T,0]).nice()}(),W=W||f.reduce((t,e,n)=>Object.assign({},t,{[e]:q[n]}),{}),function(){let a,r;"number"===I?(a=Ft(B,$),r=null,e="logarithmic"===H?Object(l.axisBottom)(t).ticks(a.tick,"e").tickFormat((function(t){const e=Math.log(t)/Math.LN10;return Math.abs(Math.round(e)-e)<1e-6?"10^"+Math.round(e):""})):Object(l.axisBottom)(t).ticks(a.tick).tickFormat(Rt)):("custom"===tt&&"string"==typeof nt?(a={tick:et,format:Object(wt.timeFormat)(nt)},r=null):(({minor:a,major:r}=Dt(B,$,tt,g)),n=Object(l.axisBottom)(t).ticks(r.tick).tickSize(0,0).tickFormat(r.format)),e=Object(l.axisBottom)(t).ticks(a.tick).tickSize(10,0).tickPadding(5).tickFormat(a.format));s=Object(l.axisRight)(o).ticks(z).tickSize([0]).tickPadding(5).tickFormat(Rt),function(){C.select(".grid-lines-group").selectAll("grid").remove();let e=Ut()<0;"horizontal"!==pt&&"full"!==pt||(xt(o).range([0,L]).hideEdges("first").ticks(z)(C.select(".grid-lines-group")),m=C.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",L).attr("y1",T).attr("y2",T),e&&C.select(".horizontal").selectAll(".grid-line").attr("class",t=>0===t?"grid-line horizontal-grid-line--highlighted":"grid-line"));"vertical"!==pt&&"full"!==pt||(bt(t).range([0,T]).hideEdges("first").ticks(et)(C.select(".grid-lines-group")),m=C.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",yt).attr("y2",T).attr("x1",0).attr("x2",0))}(a.tick)}(),function(){C.select(".x-axis-group .axis.x").attr("transform",`translate( 0, ${T} )`).call(e),"custom"!==tt&&"number"!==I&&C.select(".x-axis-group .axis.sub-x").attr("transform",`translate(0, ${T+30})`).call(n);C.select(".y-axis-group.axis").attr("transform",`translate( ${-mt}, 0)`).call(s).call(Ht),d&&(h&&C.selectAll(".y-axis-label-text").remove(),h=C.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-T/2).attr("y",G).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(d))}(),function(){x&&(C.selectAll(".layer-container").remove(),C.selectAll(".layer").remove(),C.selectAll(".area-outline").remove());if(Mt)return void function(){let e=Object(rt.line)().x(e=>t(e.date)).y(()=>o(0)-1),n=C.select(".chart-group");n.append("path").attr("class","empty-data-line").attr("d",e(D)).style("stroke","url(#empty-data-line-gradient)"),n.append("linearGradient").attr("id","empty-data-line-gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",0).attr("x2",t(S[S.length-1].date)).attr("y1",0).attr("y2",0).selectAll("stop").data([{offset:"0%",color:Y[0]},{offset:"100%",color:Y[1]}]).enter().append("stop").attr("offset",({offset:t})=>t).attr("stop-color",({color:t})=>t)}();v=Object(rt.area)().curve(st[it]).x(({data:e})=>t(e.date)).y0(t=>o(t[0])).y1(t=>o(t[1])),O=Object(rt.line)().curve(v.curve()).x(({data:e})=>t(e.date)).y(t=>o(t[1])),ut?(x=C.select(".chart-group").selectAll(".layer").data(b,Tt).enter().append("g").classed("layer-container",!0),x.append("path").attr("class","layer").attr("d",v).style("opacity",J).attr("fill",({key:t})=>W[t]),x.append("path").attr("class","area-outline").attr("d",O).style("stroke",({key:t})=>W[t]).attr("fill","none"),C.select(".chart-group").selectAll(".layer").data(y).transition().delay((t,e)=>ot[e]).duration(ht).ease(dt).attr("d",v).style("opacity",J).attr("fill",({key:t})=>W[t]),C.select(".chart-group").selectAll(".area-outline").data(y).transition().delay((t,e)=>ot[e]).duration(ht).ease(dt).attr("d",O).attr("fill","none")):(x=C.select(".chart-group").selectAll(".layer").data(y).enter().append("g").classed("layer-container",!0),x.append("path").attr("class","layer").attr("d",v).style("opacity",J).attr("fill",({key:t})=>W[t]),x.append("path").attr("class","area-outline").attr("d",O).style("stroke",({key:t})=>W[t]),C.select(".chart-group").selectAll(".layer").attr("d",v).style("opacity",J).attr("fill",({key:t})=>W[t]),C.select(".chart-group").selectAll(".area-outline").attr("class","area-outline").attr("d",O).style("stroke",({key:t})=>W[t]));ft||C.select(".chart-group").selectAll(".area-outline").style("display","none");x.exit().transition().style("opacity",0).remove()}(),C.on("touchmove",(function(t){!function(t,e){Et.call("customTouchMove",t,e,Object(a.touch)(t))}(this,t)})),$>gt&&!Mt&&(!function(){j&&C.selectAll(".overlay").remove();j=C.select(".metadata-group").append("rect").attr("class","overlay").attr("y1",0).attr("y2",T).attr("height",T).attr("width",L).attr("fill","rgba(0, 0, 0, 0)").style("display","none")}(),function(){k&&C.selectAll(".vertical-marker-container").remove();k=C.select(".metadata-group").append("g").attr("class","vertical-marker-container").attr("transform","translate(9999, 0)"),w=k.selectAll("path").data([{x1:0,y1:0,x2:0,y2:0}]).enter().append("line").classed("vertical-marker",!0).attr("x1",0).attr("y1",T).attr("x2",0).attr("y2",0)}(),C.on("mouseover",(function(t){!function(t,e){j.style("display","block"),w.classed("bc-is-active",!0),Et.call("customMouseOver",t,e,Object(a.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){j.style("display","none"),w.classed("bc-is-active",!1),k.attr("transform","translate(9999, 0)"),Et.call("customMouseOut",t,e,Object(a.mouse)(t))}(this,t)})).on("mousemove",(function(e){!function(e){M||Yt();let n,[r,i]=Object(a.mouse)(e),l=qt(r-R.left);l&&(n=t(new Date(l.key)),Vt(n),Wt(l),Et.call("customMouseMove",e,l,W,n,i))}(this)}))))}))}function Rt(t){let e;return e=K(t)?X:Z,e(t)}function Ht(t){t.selectAll(".tick text").attr("transform","translate(-20, -8)")}function zt(){let t=Gt(S.map(t=>t.name));return Object(r.min)(D,(function(e){let n=t.map(t=>e[t]);return Object(r.sum)(n)}))}function _t(){let t=Gt(S.map(t=>t.name));return Object(r.max)(D,(function(e){let n=t.map(t=>e[t]);return Object(r.sum)(n)}))}function Ut(){return Mt?kt.minY:Object(r.min)([Object(r.min)(S.map(t=>t.value)),zt(),_,0])}function qt(e){let n=B.filter(({date:n})=>Math.abs(t(n)-e)<=M);if(n.length)return n[0]}function Yt(){let e=B.map(({date:t})=>t);M=(t(e[1])-t(e[0]))/2}function Wt({values:t}){let e=0;k.selectAll(".circle-container").remove();let n=f.reduce((e,n)=>[...e,t.find(({name:t})=>t===n)],[]);n.forEach((t,r)=>{let i=k.append("g").classed("circle-container",!0).append("circle").classed("data-point-highlighter",!0).attr("cx",12).attr("cy",0).attr("r",5).style("stroke-width",1.2).style("stroke",W[t.name]).style("cursor","pointer").on("click",(function(){!function(t){V||(V=$t(C.select(".metadata-group")),Q=Nt(V));let e=Object(a.select)(t);e.style("stroke-width",5).style("stroke-opacity",.6).attr("filter",`url(#${Q})`),Pt(e,dt,7)}(this),function(t,e){Et.call("customDataEntryClick",t,e,Object(a.mouse)(t))}(this,t)})).on("mouseout",(function(){var t;t=this,Object(a.select)(t).attr("filter","none")}));e+=n[r][Ot],i.attr("transform",`translate( -12, ${o(e)} )`)})}function Vt(t){k.attr("transform",`translate(${t},0)`)}return Bt.animationDuration=function(t){return arguments.length?(ht=t,this):ht},Bt.areaCurve=function(t){return arguments.length?(it=t,this):it},Bt.areaOpacity=function(t){return arguments.length?(J=t,this):J},Bt.axisTimeCombinations=lt,Bt.colorMap=function(t){return arguments.length?(W=t,this):W},Bt.colorSchema=function(t){return arguments.length?(q=t,this):q},Bt.dateLabel=function(t){return arguments.length?(vt=t,at("date"),this):vt},Bt.emptyDataConfig=function(t){return arguments.length?(kt=t,this):kt},Bt.grid=function(t){return arguments.length?(pt=t,this):pt},Bt.hasOutline=function(t){return arguments.length?(ft=t,this):ft},Bt.height=function(t){return arguments.length?(N=t,this):N},Bt.isAnimated=function(t){return arguments.length?(ut=t,this):ut},Bt.keyLabel=function(t){return arguments.length?(jt=t,at("name"),this):jt},Bt.margin=function(t){return arguments.length?(R={...R,...t},this):R},Bt.tooltipThreshold=function(t){return arguments.length?(gt=t,this):gt},Bt.topicsOrder=function(t){return arguments.length?(p=t,this):p},Bt.isLoading=function(t){return arguments.length?(P=t,this):P},Bt.locale=function(t){return arguments.length?(g=t,this):g},Bt.exportChart=function(t,e){return E.call(Bt,C,t,e)},Bt.on=function(){let t=Et.on.apply(Et,arguments);return t===Et?Bt:t},Bt.valueLabel=function(t){return arguments.length?(Ot=t,at("value"),this):Ot},Bt.width=function(t){return arguments.length?($=t,this):$},Bt.xAxisCustomFormat=function(t){return arguments.length?(nt=t,this):nt},Bt.xAxisFormat=function(t){return arguments.length?(tt=t,this):tt},Bt.xAxisValueType=function(t){return arguments.length?(I=t,this):I},Bt.xAxisScale=function(t){return arguments.length?(H=t,this):H},Bt.xTicks=function(t){return arguments.length?(et=t,this):et},Bt.yAxisLabel=function(t){return arguments.length?(d=t,this):d},Bt.yAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},Bt.yTicks=function(t){return arguments.length?(z=t,this):z},Bt.yAxisBaseline=function(t){return arguments.length?(_=t,this):_},Bt}n(17),n(14);function Yt(){let t,e,n,d,h,f,p,g,m,y,x,b,v,O,j,k,w,M,C,L={top:40,right:30,bottom:60,left:70},T=960,S=500,B=!1,D={y:-8,x:-20},F=5,R=5,$=A.colorSchemas.britecharts,N=null,P=null,I=s,z=i.easeQuadInOut,_=!1,U=480,G=0,q=0,Y=-60,W=ct,V=null,Q="name",K="value",Z="group",X=",f",J=.1,tt=.1,nt=({name:t})=>t,rt=({value:t})=>t,it=({group:t})=>t,lt=!1,ot=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function st(i){P&&(I=et(P)),i.each((function(i){x=T-L.left-L.right,b=S-L.top-L.bottom,v=i.reduce((t,e)=>(e.value=+e[K],e.group=e[Z],e.topicName=e[Z],e.name=e[Q],[...t,e]),[]),function(t){y||(y=Object(a.select)(t).append("svg").classed("britechart grouped-bar",!0),function(){let t=y.append("g").classed("container-group",!0).attr("transform",`translate(${L.left},${L.top})`);y.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("metadata-group",!0)}());y.attr("viewBox",[0,0,T,S]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",T).attr("height",S)}(this),B?y.select(".loading-state-group").html(H):(function(t){e=t.map(it),O=e.filter((t,e,n)=>n.indexOf(t)==e),k=Object(At.nest)().key(nt).rollup((function(t){let e={};return t.forEach(t=>{t&&t[Z]&&(e[t[Z]]=rt(t))}),e.values=t,e})).entries(t).map((function(t){return Object.assign({},{total:Object(r.sum)(Object(r.permute)(t.value,O)),key:t.key},t.value)}));var e}(v),function(){let n=function(){const t=new Set(v.map(rt));return 1===t.size&&t.has(0)?1:Object(r.max)(v.map(rt))}();_?(t=Object(u.scaleLinear)().domain([0,n]).rangeRound([0,x-1]),d=Object(u.scaleBand)().domain(v.map(nt)).rangeRound([b,0]).padding(tt),h=Object(u.scaleBand)().domain(v.map(it)).rangeRound([d.bandwidth(),0]).padding(J)):(t=Object(u.scaleBand)().domain(v.map(nt)).rangeRound([0,x]).padding(tt),e=Object(u.scaleBand)().domain(v.map(it)).rangeRound([0,t.bandwidth()]).padding(tt),d=Object(u.scaleLinear)().domain([0,n]).rangeRound([b,0]).nice());g=Object(u.scaleOrdinal)().range($).domain(v.map(it)),N=N||g.domain(v.map(nt)).domain().reduce((t,e)=>(v.forEach(({name:n,group:a})=>{n==e&&(t[a]=g(a))}),t),{})}(),m=k.map(t=>{let e={};return O.forEach(n=>{e[n]=t[n]}),Object.assign({},t,e)}),y.select(".loading-state-group svg").remove(),function(){y.select(".grid-lines-group").selectAll("grid").remove(),("horizontal"===V||"full"===V)&&dt();"vertical"!==V&&"full"!==V||ht();_?ht():dt()}(),function(e){_?(n=Object(l.axisBottom)(t).ticks(R,e.format(X)),f=Object(l.axisLeft)(d)):(n=Object(l.axisBottom)(t),f=Object(l.axisLeft)(d).ticks(F,e.format(X)))}(I),function(){_?(y.select(".x-axis-group .axis.x").attr("transform",`translate( 0, ${b} )`).call(n),y.select(".y-axis-group.axis").attr("transform",`translate( ${-G}, 0)`).call(f)):(y.select(".x-axis-group .axis.x").attr("transform",`translate( 0, ${b} )`).call(n),y.select(".y-axis-group.axis").attr("transform",`translate( ${-G}, 0)`).call(f).call(ut));w&&(M&&y.selectAll(".y-axis-label-text").remove(),M=y.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-b/2).attr("y",Y).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(w))}(),function(){j&&y.selectAll(".layer").remove();const n=y.select(".chart-group").selectAll(".layer");C=Object(r.range)(20,20*(O.length+1),20),_?function(e){let n=e.data(m);j=n.enter().append("g").attr("transform",({key:t})=>`translate(0,${d(t)})`).classed("layer",!0);let a=j.selectAll(".bar").data(({values:t})=>t).enter().append("rect").classed("bar",!0).attr("x",1).attr("y",t=>h(it(t))).attr("height",h.bandwidth()).attr("fill",({group:t})=>N[t]);lt?a.style("opacity",.24).transition().delay((t,e)=>C[e]).duration(W).ease(z).tween("attr.width",mt):a.attr("width",e=>t(rt(e)))}(n):function(n){let a=n.data(m);j=a.enter().append("g").attr("transform",({key:e})=>`translate(${t(e)},0)`).classed("layer",!0);let r=j.selectAll(".bar").data(({values:t})=>t).enter().append("rect").classed("bar",!0).attr("x",t=>e(it(t))).attr("y",({value:t})=>d(t)).attr("width",e.bandwidth).attr("fill",({group:t})=>N[t]);lt?r.style("opacity",.24).transition().delay((t,e)=>C[e]).duration(W).ease(z).tween("attr.height",yt):r.attr("height",t=>b-d(rt(t)))}(n);n.exit().transition().style("opacity",0).remove()}(),function(){T>U&&y.select(".chart-group").on("mouseover",(function(t){!function(t,e){ot.call("customMouseOver",t,e,Object(a.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){y.select(".metadata-group").attr("transform","translate(9999, 0)"),ot.call("customMouseOut",t,e,Object(a.mouse)(t))}(this,t)})).on("mousemove",(function(n){!function(n){let a,r,[i,l]=ft(n),o=_?gt(l):pt(i);o&&(_?(a=i-L.left,r=d(o.key)+d.bandwidth()/2):(a=t(o.key)+e(o[Z]),r=l-L.bottom),c=a,s=r,y.select(".metadata-group").attr("transform",`translate(${c},${s})`),ot.call("customMouseMove",n,o,N,a,r));var c,s}(this)})).on("click",(function(t){!function(t){let[e,n]=ft(t),r=_?gt(n):pt(e);ot.call("customClick",t,r,Object(a.mouse)(t))}(this)}));y.selectAll(".bar").on("mouseover",(function(t){!function(t,e){Object(a.select)(t).attr("fill",()=>Object(o.color)(N[e.group]).darker())}(this,t)})).on("mouseout",(function(t){!function(t,e){Object(a.select)(t).attr("fill",()=>N[e.group])}(this,t)}))}())}))}function ut(t){t.selectAll(".tick text").attr("transform",`translate(${D.x}, ${D.y})`)}function dt(){xt(d).range([0,x]).hideEdges("first").ticks(F)(y.select(".grid-lines-group")),p=y.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",G).attr("x2",x).attr("y1",b).attr("y2",b)}function ht(){bt(t).range([0,b]).hideEdges("first").ticks(R)(y.select(".grid-lines-group")),p=y.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",q).attr("y2",b).attr("x1",0).attr("x2",0)}function ft(t){return Object(a.mouse)(t)}function pt(n){let a=n-L.left,r=e.bandwidth(),i=[];return m.forEach((function(n){let l=n.values.find(n=>Math.abs(a>=t(n[Q])+e(n[Z]))&&Math.abs(a-e(n[Z])-t(n[Q])<=r));l&&(l.values=n.values,l.key=l.name,i.push(l))})),i.length?i[0]:void 0}function gt(t){let e=t-L.bottom,n=d.bandwidth(),a=[];return m.map((function(t){let r=t.values.find(t=>Math.abs(e>=d(t[Q]))&&Math.abs(e-d(t[Q])<=2*n));r&&(r.values=t.values,r.key=r.name,a.push(r))})),a.length?a[0]:void 0}function mt(e){const n=Object(a.select)(this),r=Object(Ot.interpolateRound)(0,t(rt(e))),i=Object(Ot.interpolateNumber)(0,1);return function(t){n.attr("width",r(t)).style("opacity",i(t))}}function yt(t){let e=Object(a.select)(this),n=Object(Ot.interpolateRound)(0,b-d(rt(t))),r=Object(Ot.interpolateRound)(b,d(rt(t))),i=Object(Ot.interpolateNumber)(0,1);return function(t){e.attr("y",r(t)).attr("height",n(t)).style("opacity",i(t))}}return st.animationDuration=function(t){return arguments.length?(W=t,this):W},st.betweenBarsPadding=function(t){return arguments.length?(J=t,this):J},st.betweenGroupsPadding=function(t){return arguments.length?(tt=t,this):tt},st.colorMap=function(t){return arguments.length?(N=t,this):N},st.colorSchema=function(t){return arguments.length?($=t,this):$},st.exportChart=function(t,e){return E.call(st,y,t,e)},st.groupLabel=function(t){return arguments.length?(Z=t,at("group"),this):Z},st.grid=function(t){return arguments.length?(V=t,this):V},st.height=function(t){return arguments.length?(S=t,this):S},st.isHorizontal=function(t){return arguments.length?(_=t,this):_},st.isAnimated=function(t){return arguments.length?(lt=t,this):lt},st.isLoading=function(t){return arguments.length?(B=t,this):B},st.margin=function(t){return arguments.length?(L={...L,...t},this):L},st.nameLabel=function(t){return arguments.length?(Q=t,at("name"),this):Q},st.numberFormat=function(t){return arguments.length?(X=t,this):X},st.on=function(){let t=ot.on.apply(ot,arguments);return t===ot?st:t},st.tooltipThreshold=function(t){return arguments.length?(U=t,this):U},st.valueLabel=function(t){return arguments.length?(K=t,at("value"),this):K},st.valueLocale=function(t){return arguments.length?(P=t,this):P},st.width=function(t){return arguments.length?(T=t,this):T},st.xTicks=function(t){return arguments.length?(R=t,this):R},st.yAxisLabel=function(t){return arguments.length?(w=t,this):w},st.yAxisLabelOffset=function(t){return arguments.length?(Y=t,this):Y},st.yTicks=function(t){return arguments.length?(F=t,this):F},st.yTickTextOffset=function(t){return arguments.length?(D=t,this):D},st}function Wt(){let t,e,n,d,h,f,p,g,m,y,x,b,v,O,j,k,w,M={top:40,right:30,bottom:60,left:70},C=960,L=500,T=!1,S=.1,B=null,D=s,F=5,R=5,$=1,N=A.colorSchemas.britecharts,P=null,I=i.easeQuadInOut,z=!1,_=!1,U=480,G=-60,q=0,Y=0,W=ct,V=null,Q="name",K="value",Z="stack",X=",f",J=t=>t[Q],tt=t=>t[Z],nt=t=>isNaN(t)||t<0?0:t,it=!1,lt=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove","customClick");function ot(i){B&&(D=et(B)),i.each((function(i){g=C-M.left-M.right,m=L-M.top-M.bottom,y=i.reduce((t,e)=>(e.value=+e[K],e.stack=e[Z],e.topicName=e[Z],e.name=e[Q],[...t,e]),[]),function(t){b=(t=>t.filter((t,e,n)=>n.indexOf(t)==e))(t.map(({stack:t})=>t)),_&&(b=b.reverse());x=Object(At.nest)().key(J).rollup((function(t){let e={};return t.forEach(t=>{t&&t[Z]&&(e[t[Z]]=(t=>t[K])(t))}),e.values=t,e})).entries(t).map((function(t){return Object.assign({},{total:Object(r.sum)(Object(r.permute)(t.value,b)),key:t.key},t.value)}))}(y),function(t){p||(p=Object(a.select)(t).append("svg").classed("britechart stacked-bar",!0),function(){let t=p.append("g").classed("container-group",!0).attr("transform",`translate(${M.left},${M.top})`);p.append("g").classed("loading-state-group",!0),t.append("g").classed("x-axis-group",!0).append("g").classed("x axis",!0),t.append("g").classed("y-axis-group axis",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());p.attr("viewBox",[0,0,C,L]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",C).attr("height",L)}(this),T?p.select(".loading-state-group").html(H):(p.select(".loading-state-group svg").remove(),function(){let e=function(){const t=new Set(x.map(({total:t})=>t));return 1===t.size&&t.has(0)?1:Object(r.max)(x.map(({total:t})=>t))}();z?(t=Object(u.scaleLinear)().domain([0,e]).rangeRound([0,g-1]),n=Object(u.scaleBand)().domain(y.map(J)).rangeRound([m,0]).padding(S)):(t=Object(u.scaleBand)().domain(y.map(J)).rangeRound([0,g]).padding(S),n=Object(u.scaleLinear)().domain([0,e]).rangeRound([m,0]).nice());h=Object(u.scaleOrdinal)().range(N).domain(y.map(tt)),P=P||h.domain(y.map(tt)).domain().reduce((t,e)=>(t[e]=h(e),t),{})}(),function(){let t=Object(rt.stack)().keys(b),e=x.map(t=>{let e={};return b.forEach(n=>{e[n]=t[n]}),Object.assign({},t,e)});f=t(e)}(),function(){p.select(".grid-lines-group").selectAll("grid").remove(),("horizontal"===V||"full"===V)&&ut();"vertical"!==V&&"full"!==V||dt();z?dt():ut()}(),function(a){z?(e=Object(l.axisBottom)(t).ticks(R,a.format(X)),d=Object(l.axisLeft)(n)):(e=Object(l.axisBottom)(t),d=Object(l.axisLeft)(n).ticks(F,a.format(X)))}(D),function(){z?(p.select(".x-axis-group .axis.x").attr("transform",`translate( 0, ${m} )`).call(e),p.select(".y-axis-group.axis").attr("transform",`translate( ${-q}, 0)`).call(d)):(p.select(".x-axis-group .axis.x").attr("transform",`translate( 0, ${m} )`).call(e),p.select(".y-axis-group.axis").attr("transform",`translate( ${-q}, 0)`).call(d).call(st));O&&(j&&p.selectAll(".y-axis-label-text").remove(),j=p.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-m/2).attr("y",G).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(O))}(),function(){v&&p.selectAll(".layer").remove();let e=p.select(".chart-group").selectAll(".layer");w=Object(r.range)(20,20*(f[0].length+1),20),z?function(e){let a=e.data(f);v=a.enter().append("g").attr("fill",({key:t})=>P[t]).classed("layer",!0);let r=v.selectAll(".bar").data(t=>ht(t)).enter().append("rect").classed("bar",!0).attr("x",e=>t(e[0])).attr("y",t=>n(t.data.key)).attr("height",n.bandwidth());it?r.style("opacity",.24).transition().delay((t,e)=>w[e]).duration(W).ease(I).tween("attr.width",vt):r.attr("width",e=>t(e[1]-e[0]))}(e):function(e){let a=e.data(f);v=a.enter().append("g").attr("fill",({key:t})=>P[t]).classed("layer",!0);let r=v.selectAll(".bar").data(t=>ht(t)).enter().append("rect").classed("bar",!0).attr("x",e=>t(e.data.key)).attr("y",t=>n(t[1])).attr("width",t.bandwidth);it?r.style("opacity",.24).transition().delay((t,e)=>w[e]).duration(W).ease(I).tween("attr.height",jt):r.attr("height",t=>n(t[0])-n(t[1]))}(e);e.exit().transition().style("opacity",0).remove()}(),function(){C>U&&p.select(".chart-group").on("mouseover",(function(t){!function(t,e){lt.call("customMouseOver",t,e,Object(a.mouse)(t))}(this,t)})).on("mouseout",(function(t){!function(t,e){p.select(".metadata-group").attr("transform","translate(9999, 0)"),lt.call("customMouseOut",t,e,Object(a.mouse)(t))}(this,t)})).on("mousemove",(function(e){!function(e){let a,r,[i,l]=ft(e),o=z?gt(l):pt(i);o&&(z?(a=i-M.left,r=n(o.key)+n.bandwidth()/2):(a=t(o.key)+M.left,r=l-M.bottom),c=a,s=r,p.select(".metadata-group").attr("transform",`translate(${c},${s})`),lt.call("customMouseMove",e,o,P,a,r));var c,s}(this)})).on("click",(function(t){!function(t){let[e,n]=ft(t),r=z?gt(n):pt(e);lt.call("customClick",t,r,Object(a.mouse)(t))}(this)}));p.selectAll(".bar").on("mouseover",mt).on("mouseout",yt)}())}))}function st(t){t.selectAll(".tick text").attr("transform","translate(-20, -8)")}function ut(){xt(n).range([0,g]).hideEdges("first").ticks(F)(p.select(".grid-lines-group")),k=p.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",q).attr("x2",g).attr("y1",m).attr("y2",m)}function dt(){bt(t).range([0,m]).hideEdges("first").ticks(R)(p.select(".grid-lines-group")),k=p.select(".grid-lines-group").selectAll("line.extended-y-line").data([0]).enter().append("line").attr("class","extended-y-line").attr("y1",Y).attr("y2",m).attr("x1",0).attr("x2",0)}function ht(t){return t.map(t=>{for(let e=0;e<t.length;e++)t[e]=nt(t[e]);return t})}function ft(t){return Object(a.mouse)(t)}function pt(e){const n=e-M.left;return x.find(({key:e})=>{const a=t(e),r=a+t.bandwidth();return n>=a&&n<r})}function gt(t){const e=t-M.top;return x.find(({key:t})=>{const a=n(t),r=a+n.bandwidth();return e>=a&&e<r})}function mt(){Object(a.select)(this).attr("fill",()=>Object(o.color)(Object(a.select)(this.parentNode).attr("fill")).darker())}function yt(){Object(a.select)(this).attr("fill",()=>Object(a.select)(this.parentNode).attr("fill"))}function vt(e){let n=Object(a.select)(this),r=Object(Ot.interpolateRound)(0,t(e[1]-e[0])),i=Object(Ot.interpolateNumber)(0,1);return function(t){n.attr("width",r(t)).style("opacity",i(t))}}function jt(t){const e=n(t[0])-n(t[1]);let r=Object(a.select)(this),i=Object(Ot.interpolateRound)(0,nt(e)),l=Object(Ot.interpolateNumber)(0,1);return function(t){r.attr("height",i(t)).style("opacity",l(t))}}return ot.animationDuration=function(t){return arguments.length?(W=t,this):W},ot.betweenBarsPadding=function(t){return arguments.length?(S=t,this):S},ot.colorMap=function(t){return arguments.length?(P=t,this):P},ot.colorSchema=function(t){return arguments.length?(N=t,this):N},ot.exportChart=function(t,e){return E.call(ot,p,t,e)},ot.grid=function(t){return arguments.length?(V=t,this):V},ot.hasPercentage=function(t){return arguments.length?(X=t?"%":",f",this):"%"===X},ot.height=function(t){return arguments.length?(L=t,this):L},ot.hasReversedStacks=function(t){return arguments.length?(_=t,this):_},ot.isAnimated=function(t){return arguments.length?(it=t,this):it},ot.isHorizontal=function(t){return arguments.length?(z=t,this):z},ot.isLoading=function(t){return arguments.length?(T=t,this):T},ot.margin=function(t){return arguments.length?(M={...M,...t},this):M},ot.nameLabel=function(t){return arguments.length?(Q=t,at("name"),this):Q},ot.numberFormat=function(t){return arguments.length?(X=t,this):X},ot.on=function(){let t=lt.on.apply(lt,arguments);return t===lt?ot:t},ot.percentageAxisToMaxRatio=function(t){return arguments.length?($=t,this):$},ot.stackLabel=function(t){return arguments.length?(Z=t,at("stack"),this):Z},ot.tooltipThreshold=function(t){return arguments.length?(U=t,this):U},ot.valueLabel=function(t){return arguments.length?(K=t,at("value"),this):K},ot.valueLocale=function(t){return arguments.length?(B=t,this):B},ot.width=function(t){return arguments.length?(C=t,this):C},ot.xTicks=function(t){return arguments.length?(R=t,this):R},ot.yAxisLabel=function(t){return arguments.length?(O=t,this):O},ot.yAxisLabelOffset=function(t){return arguments.length?(G=t,this):G},ot.yTicks=function(t){return arguments.length?(F=t,this):F},ot}function Vt(){let t,e,n,o,d,h,f,p,g,m,y,x,b,v,O={top:20,right:20,bottom:30,left:40},j=960,k=500,A=!1,w=i.easeQuadInOut,M=6,C=80,L=-20,T=0,S=Object(c.dispatch)("customMouseOver","customMouseOut","customMouseMove"),B=Object(s.format)(".3"),D=({key:t})=>t,F=({value:t})=>t;function R(i){i.each((function(i){e=j-O.left-O.right,n=k-O.top-O.bottom,t=i.reduce((t,e)=>(e.value=+e.value,e.key=String(e.key),[...t,e]),[]),console.warn('The Step Chart is being deprecated! Please use a line chart with lineCurve "step" for your visualization!'),function(t){x||(x=Object(a.select)(t).append("svg").classed("britechart step-chart",!0),function(){let t=x.append("g").classed("container-group",!0).attr("transform",`translate(${O.left}, ${O.top})`);x.append("g").classed("loading-state-group",!0),t.append("g").classed("grid-lines-group",!0),t.append("g").classed("chart-group",!0),t.append("g").classed("x-axis-group axis",!0).append("g").classed("x-axis-label",!0),t.append("g").classed("y-axis-group axis",!0).append("g").classed("y-axis-label",!0),t.append("g").classed("metadata-group",!0)}());x.attr("viewBox",[0,0,j,k]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",j).attr("height",k)}(this),A?x.select(".loading-state-group").html(H):(x.select(".loading-state-group svg").remove(),o=Object(u.scaleBand)().domain(t.map(D)).rangeRound([0,e]).paddingInner(0),d=Object(u.scaleLinear)().domain([0,Object(r.max)(t,F)]).rangeRound([n,0]),h=Object(l.axisBottom)(o),g=Object(l.axisLeft)(d).ticks(M).tickPadding(8).tickFormat(B),function(){b&&x.selectAll(".horizontal-grid-line").remove();v&&x.selectAll(".extended-x-line").remove();b=x.select(".grid-lines-group").selectAll("line.horizontal-grid-line").data(d.ticks(M)).enter().append("line").attr("class","horizontal-grid-line").attr("x1",T).attr("x2",e).attr("y1",t=>d(t)).attr("y2",t=>d(t)),v&&x.selectAll(".extended-x-line").remove();v=x.select(".grid-lines-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",T).attr("x2",e).attr("y1",n).attr("y2",n)}(),function(){let r=x.select(".chart-group").selectAll(".step").data(t);r.enter().append("rect").classed("step",!0).attr("x",e).attr("y",({value:t})=>d(t)).attr("width",o.bandwidth()).attr("height",t=>n-d(t.value)).on("mouseover",(function(t){!function(t,e,n,r){S.call("customMouseOver",t,e,Object(a.mouse)(t),[n,r])}(this,t,e,n)})).on("mousemove",(function(t){!function(t,e,n,r){S.call("customMouseMove",t,e,Object(a.mouse)(t),[n,r])}(this,t,e,n)})).on("mouseout",(function(t){!function(t,e,n,r){S.call("customMouseOut",t,e,Object(a.mouse)(t),[n,r])}(this,t,e,n)})).merge(r).transition().ease(w).attr("x",({key:t})=>o(t)).attr("y",(function(t){return d(t.value)})).attr("width",o.bandwidth()).attr("height",(function(t){return n-d(t.value)})),r.exit().transition().style("opacity",0).remove()}(),function(){x.select(".x-axis-group.axis").attr("transform",`translate(0, ${n})`).call(h),x.selectAll(".x-axis-group .tick text").style("text-anchor","start").attr("transform","rotate(45 -1 10)"),f&&(p&&x.selectAll(".x-axis-label-text").remove(),p=x.select(".x-axis-label").append("text").attr("y",C).attr("text-anchor","middle").classed("x-axis-label-text",!0).attr("x",e/2).text(f));x.select(".y-axis-group.axis").call(g),m&&(y&&x.selectAll(".y-axis-label-text").remove(),y=x.select(".y-axis-label").append("text").classed("y-axis-label-text",!0).attr("x",-n/2).attr("y",L).attr("text-anchor","middle").attr("transform","rotate(270 0 0)").text(m))}())}))}return R.exportChart=function(t){return E.call(R,x,t)},R.margin=function(t){return arguments.length?(O={...O,...t},this):O},R.yTicks=function(t){return arguments.length?(M=t,this):M},R.height=function(t){return arguments.length?(k=t,this):k},R.isLoading=function(t){return arguments.length?(A=t,this):A},R.on=function(...t){let e=S.on(...t);return e===S?R:e},R.width=function(t){return arguments.length?(j=t,this):j},R.xAxisLabel=function(t){return arguments.length?(f=t,this):f},R.xAxisLabelOffset=function(t){return arguments.length?(C=t,this):C},R.yAxisLabel=function(t){return arguments.length?(m=t,this):m},R.yAxisLabelOffset=function(t){return arguments.length?(L=t,this):L},R}n(18);function Qt(){let t,e,n,r,i,o,c,d,h,f,p,g,m,y,x,b,v,O,j,k,w,M,C={top:20,right:20,bottom:30,left:20},L=960,T=150,S=A.colorSchemas.britecharts,B="",D=6,F=5,R=.5,$=!1,N=[],P=[],I=[],H=()=>O||j,z=()=>e/3;function _(A){A.each((function(A){var E;t=L-C.left-C.right,e=T-C.top-C.bottom,({title:O,subtitle:k,ranges:N,measures:I,markers:P}={ranges:[...(E=A).ranges].sort().reverse(),measures:[...E.measures].sort().reverse(),markers:E.markers.length?[...E.markers].sort().reverse():[],subtitle:E.subtitle,title:E.title}),H()&&(t-=100),function(){const e=$?[t,0]:[0,t],a=[0,Math.max(...N,...P,...I)];n=Object(u.scaleLinear)().domain(a).rangeRound(e).nice(),p=function(t){const e=t(0);return function(n){return Math.abs(t(n)-e)}}(n),r=N.map((t,e)=>R-.2*e).reverse(),i=N.map((t,e)=>.9-.3*e).reverse(),o=S[0],c=S[1],d=S[2]}(),function(t){M||(M=Object(a.select)(t).append("svg").classed("britechart bullet-chart",!0),function(){let t=M.append("g").classed("container-group",!0).attr("transform",`translate(${C.left}, ${C.top})`);t.append("g").classed("chart-group",!0),t.append("g").classed("axis-group",!0),t.append("g").classed("metadata-group",!0),H()&&t.selectAll(".chart-group").attr("transform","translate(100, 0)")}());M.attr("viewBox",[0,0,L,T]).attr("style","max-width: 100%; height: auto; height: intrinsic;").attr("width",L).attr("height",T)}(this),f=Object(l.axisBottom)(n).ticks(D).tickPadding(5).tickFormat(Object(s.format)(B)),function(){x&&x.remove();b&&b.remove();v&&v.remove();x=M.select(".chart-group").selectAll("rect.range").data(N).enter().append("rect").attr("fill",o).attr("opacity",(t,e)=>r[e]).attr("class",(t,e)=>"range r"+e).attr("width",p).attr("height",e).attr("x",$?n:0),b=M.select(".chart-group").selectAll("rect.measure").data(I).enter().append("rect").attr("fill",c).attr("fill-opacity",(t,e)=>i[e]).attr("class",(t,e)=>"measure m"+e).attr("width",p).attr("height",z).attr("x",$?n:0).attr("y",z),P.length&&(v=M.select(".chart-group").selectAll("line.marker-line").data(P).enter().append("line").attr("class","marker-line").attr("stroke",d).attr("stroke-width",5).attr("opacity",i[0]).attr("x1",n).attr("x2",n).attr("y1",0).attr("y2",e))}(),H()&&(g&&g.remove(),g=M.select(".metadata-group").append("g").classed("legend-group",!0).attr("transform",`translate(0, ${e/2})`),j&&(O=j),m&&m.remove(),m=g.selectAll("text.bullet-title").data([1]).enter().append("text").attr("class","bullet-title x-axis-label").text(O),(k||w)&&(w&&(k=w),y&&y.remove(),y=g.selectAll("text.bullet-subtitle").data([1]).enter().append("text").attr("class","bullet-subtitle x-axis-label").attr("y",15).text(k))),function(){let n=H()?100:0;M.select(".axis-group").attr("transform",`translate(${n}, ${e+F})`).call(f),function(){h&&h.remove();h=M.select(".axis-group").selectAll("line.extended-x-line").data([0]).enter().append("line").attr("class","extended-x-line").attr("x1",0).attr("x2",t)}()}()}))}return _.colorSchema=function(t){return arguments.length?(S=t,this):S},_.customTitle=function(t){return arguments.length?(j=t,this):j},_.customSubtitle=function(t){return arguments.length?(w=t,this):w},_.exportChart=function(t,e){return E.call(_,M,t,e)},_.height=function(t){return arguments.length?(T=t,this):T},_.isReverse=function(t){return arguments.length?($=t,this):$},_.margin=function(t){return arguments.length?(C={...C,...t},this):C},_.numberFormat=function(t){return arguments.length?(B=t,this):B},_.paddingBetweenAxisAndChart=function(t){return arguments.length?(F=t,this):F},_.startMaxRangeOpacity=function(t){return arguments.length?(R=t,this):R},_.ticks=function(t){return arguments.length?(D=t,this):D},_.width=function(t){return arguments.length?(L=t,this):L},_}var Kt=["customMouseOver","customMouseMove","customMouseOut","customClick"],Zt=function(t){return-1===Kt.indexOf(t)},Xt=function(t,e){var n=Object.keys(e).filter(Zt),a=Object.keys(t.prototype.constructor),r=n.filter((function(t){return!a.includes(t)}));if(r.length)throw new Error("Method not supported by Britechart: ".concat(r.join(" ")))},Jt=function(t){if(t.empty())throw Error("A root container is required")},te=function(t){return-1!==Kt.indexOf(t)},ee=function(t){return!te(t)},ne=function(t,e,n){(e[n]||"string"==typeof e[n])&&t[n](e[n])},ae=function(t,e,n){e[n]&&t.on(n,e[n])},re=function(t,e){var n=Object.keys(e);return n.filter(ee).forEach(ne.bind(null,t,e)),n.filter(te).forEach(ae.bind(null,t,e)),t},ie={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=vt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e?i.datum(e).call(r):i.call(r),r},destroy:function(){}},le=ie,oe={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Qt();return Jt(r),Xt(i,n),r.datum(e[0]).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e[0]).call(r):i.call(r),r},destroy:function(){}},ce=oe,se={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=jt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e?i.datum(e).call(r):i.call(r),r},destroy:function(){}},ue=se,de={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Yt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e).call(r):i.call(r),r},destroy:function(){}},he=de,fe={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=kt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e).call(r):i.call(r),r},destroy:function(){}},pe=fe,ge={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Ht();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t),l=e&&(e.data&&e.data.length||e.dataByTopic&&e.dataByTopic.length);return Jt(i),Xt(r,n),re(r,n),l?i.datum(e).call(r):i.call(r),r},destroy:function(){}},me=ge,ye={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Ut();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e).call(r):i.call(r),r},destroy:function(){}},xe=ye,be={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=qt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t),l=e&&e.length;return Jt(i),Xt(r,n),re(r,n),l?i.datum(e).call(r):i.call(r),r},destroy:function(){}},ve=be,Oe={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Wt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e).call(r):i.call(r),r},destroy:function(){}},je=Oe,ke={create:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object(a.select)(t),i=Vt();return Jt(r),Xt(i,n),r.datum(e).call(re(i,n)),i},update:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);return Jt(i),Xt(r,n),re(r,n),e&&e.length?i.datum(e).call(r):i.call(r),r},destroy:function(){}},Ae=ke,we={create:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(a.select)(t),r=zt();r.topicLabel("values"),Jt(n),Xt(r,e);var i=re(r,e);return n.datum([]).call(i),i},update:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,i=Object(a.select)(t);Jt(i),Xt(r,e);var l=re(r,e);return i.call(l),n.isActive?l.show():l.hide(),n.dataPoint&&n.topicColorMap&&"number"==typeof n.x&&l.update(n.dataPoint,n.topicColorMap,n.x,n.y),l},destroy:function(){}},Me=we}]);
//# sourceMappingURL=wrappers.bundled.min.js.map